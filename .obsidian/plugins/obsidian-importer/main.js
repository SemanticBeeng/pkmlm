/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Yi=Object.create;var _t=Object.defineProperty;var Gi=Object.getOwnPropertyDescriptor;var Vi=Object.getOwnPropertyNames;var Wi=Object.getPrototypeOf,Ki=Object.prototype.hasOwnProperty;var et=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),U=(t,e)=>{for(var a in e)_t(t,a,{get:e[a],enumerable:!0})},Se=(t,e,a,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Vi(e))!Ki.call(t,r)&&r!==a&&_t(t,r,{get:()=>e[r],enumerable:!(n=Gi(e,r))||n.enumerable});return t};var R=(t,e,a)=>(a=t!=null?Yi(Wi(t)):{},Se(e||!t||!t.__esModule?_t(a,"default",{value:t,enumerable:!0}):a,t)),Xi=t=>Se(_t({},"__esModule",{value:!0}),t);var Pe=et(Pt=>{(function(t){t.parser=function(o,i){return new a(o,i)},t.SAXParser=a,t.SAXStream=x,t.createStream=u,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function a(o,i){if(!(this instanceof a))return new a(o,i);var m=this;r(m),m.q=m.c="",m.bufferCheckPosition=t.MAX_BUFFER_LENGTH,m.opt=i||{},m.opt.lowercase=m.opt.lowercase||m.opt.lowercasetags,m.looseCase=m.opt.lowercase?"toLowerCase":"toUpperCase",m.tags=[],m.closed=m.closedRoot=m.sawRoot=!1,m.tag=m.error=null,m.strict=!!o,m.noscript=!!(o||m.opt.noscript),m.state=p.BEGIN,m.strictEntities=m.opt.strictEntities,m.ENTITIES=m.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),m.attribList=[],m.opt.xmlns&&(m.ns=Object.create(g)),m.trackPosition=m.opt.position!==!1,m.trackPosition&&(m.position=m.line=m.column=0),Et(m,"onready")}Object.create||(Object.create=function(o){function i(){}i.prototype=o;var m=new i;return m}),Object.keys||(Object.keys=function(o){var i=[];for(var m in o)o.hasOwnProperty(m)&&i.push(m);return i});function n(o){for(var i=Math.max(t.MAX_BUFFER_LENGTH,10),m=0,l=0,E=e.length;l<E;l++){var D=o[e[l]].length;if(D>i)switch(e[l]){case"textNode":kt(o);break;case"cdata":O(o,"oncdata",o.cdata),o.cdata="";break;case"script":O(o,"onscript",o.script),o.script="";break;default:Lt(o,"Max buffer length exceeded: "+e[l])}m=Math.max(m,D)}var $=t.MAX_BUFFER_LENGTH-m;o.bufferCheckPosition=$+o.position}function r(o){for(var i=0,m=e.length;i<m;i++)o[e[i]]=""}function s(o){kt(o),o.cdata!==""&&(O(o,"oncdata",o.cdata),o.cdata=""),o.script!==""&&(O(o,"onscript",o.script),o.script="")}a.prototype={end:function(){Ce(this)},write:Hi,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var c;try{c=require("stream").Stream}catch(o){c=function(){}}var d=t.EVENTS.filter(function(o){return o!=="error"&&o!=="end"});function u(o,i){return new x(o,i)}function x(o,i){if(!(this instanceof x))return new x(o,i);c.apply(this),this._parser=new a(o,i),this.writable=!0,this.readable=!0;var m=this;this._parser.onend=function(){m.emit("end")},this._parser.onerror=function(l){m.emit("error",l),m._parser.error=null},this._decoder=null,d.forEach(function(l){Object.defineProperty(m,"on"+l,{get:function(){return m._parser["on"+l]},set:function(E){if(!E)return m.removeAllListeners(l),m._parser["on"+l]=E,E;m.on(l,E)},enumerable:!0,configurable:!1})})}x.prototype=Object.create(c.prototype,{constructor:{value:x}}),x.prototype.write=function(o){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(o)){if(!this._decoder){var i=require("string_decoder").StringDecoder;this._decoder=new i("utf8")}o=this._decoder.write(o)}return this._parser.write(o.toString()),this.emit("data",o),!0},x.prototype.end=function(o){return o&&o.length&&this.write(o),this._parser.end(),!0},x.prototype.on=function(o,i){var m=this;return!m._parser["on"+o]&&d.indexOf(o)!==-1&&(m._parser["on"+o]=function(){var l=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);l.splice(0,0,o),m.emit.apply(m,l)}),c.prototype.on.call(m,o,i)};var T="[CDATA[",h="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",g={xml:y,xmlns:b},C=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,B=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(o){return o===" "||o===`
`||o==="\r"||o==="	"}function H(o){return o==='"'||o==="'"}function te(o){return o===">"||w(o)}function Y(o,i){return o.test(i)}function ji(o,i){return!Y(o,i)}var p=0;t.STATE={BEGIN:p++,BEGIN_WHITESPACE:p++,TEXT:p++,TEXT_ENTITY:p++,OPEN_WAKA:p++,SGML_DECL:p++,SGML_DECL_QUOTED:p++,DOCTYPE:p++,DOCTYPE_QUOTED:p++,DOCTYPE_DTD:p++,DOCTYPE_DTD_QUOTED:p++,COMMENT_STARTING:p++,COMMENT:p++,COMMENT_ENDING:p++,COMMENT_ENDED:p++,CDATA:p++,CDATA_ENDING:p++,CDATA_ENDING_2:p++,PROC_INST:p++,PROC_INST_BODY:p++,PROC_INST_ENDING:p++,OPEN_TAG:p++,OPEN_TAG_SLASH:p++,ATTRIB:p++,ATTRIB_NAME:p++,ATTRIB_NAME_SAW_WHITE:p++,ATTRIB_VALUE:p++,ATTRIB_VALUE_QUOTED:p++,ATTRIB_VALUE_CLOSED:p++,ATTRIB_VALUE_UNQUOTED:p++,ATTRIB_VALUE_ENTITY_Q:p++,ATTRIB_VALUE_ENTITY_U:p++,CLOSE_TAG:p++,CLOSE_TAG_SAW_WHITE:p++,SCRIPT:p++,SCRIPT_ENDING:p++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(o){var i=t.ENTITIES[o],m=typeof i=="number"?String.fromCharCode(i):i;t.ENTITIES[o]=m});for(var we in t.STATE)t.STATE[t.STATE[we]]=we;p=t.STATE;function Et(o,i,m){o[i]&&o[i](m)}function O(o,i,m){o.textNode&&kt(o),Et(o,i,m)}function kt(o){o.textNode=Ae(o.opt,o.textNode),o.textNode&&Et(o,"ontext",o.textNode),o.textNode=""}function Ae(o,i){return o.trim&&(i=i.trim()),o.normalize&&(i=i.replace(/\s+/g," ")),i}function Lt(o,i){return kt(o),o.trackPosition&&(i+=`
Line: `+o.line+`
Column: `+o.column+`
Char: `+o.c),i=new Error(i),o.error=i,Et(o,"onerror",i),o}function Ce(o){return o.sawRoot&&!o.closedRoot&&k(o,"Unclosed root tag"),o.state!==p.BEGIN&&o.state!==p.BEGIN_WHITESPACE&&o.state!==p.TEXT&&Lt(o,"Unexpected end"),kt(o),o.c="",o.closed=!0,Et(o,"onend"),a.call(o,o.strict,o.opt),o}function k(o,i){if(typeof o!="object"||!(o instanceof a))throw new Error("bad call to strictFail");o.strict&&Lt(o,i)}function Ui(o){o.strict||(o.tagName=o.tagName[o.looseCase]());var i=o.tags[o.tags.length-1]||o,m=o.tag={name:o.tagName,attributes:{}};o.opt.xmlns&&(m.ns=i.ns),o.attribList.length=0,O(o,"onopentagstart",m)}function ee(o,i){var m=o.indexOf(":"),l=m<0?["",o]:o.split(":"),E=l[0],D=l[1];return i&&o==="xmlns"&&(E="xmlns",D=""),{prefix:E,local:D}}function ae(o){if(o.strict||(o.attribName=o.attribName[o.looseCase]()),o.attribList.indexOf(o.attribName)!==-1||o.tag.attributes.hasOwnProperty(o.attribName)){o.attribName=o.attribValue="";return}if(o.opt.xmlns){var i=ee(o.attribName,!0),m=i.prefix,l=i.local;if(m==="xmlns")if(l==="xml"&&o.attribValue!==y)k(o,"xml: prefix must be bound to "+y+`
Actual: `+o.attribValue);else if(l==="xmlns"&&o.attribValue!==b)k(o,"xmlns: prefix must be bound to "+b+`
Actual: `+o.attribValue);else{var E=o.tag,D=o.tags[o.tags.length-1]||o;E.ns===D.ns&&(E.ns=Object.create(D.ns)),E.ns[l]=o.attribValue}o.attribList.push([o.attribName,o.attribValue])}else o.tag.attributes[o.attribName]=o.attribValue,O(o,"onattribute",{name:o.attribName,value:o.attribValue});o.attribName=o.attribValue=""}function tt(o,i){if(o.opt.xmlns){var m=o.tag,l=ee(o.tagName);m.prefix=l.prefix,m.local=l.local,m.uri=m.ns[l.prefix]||"",m.prefix&&!m.uri&&(k(o,"Unbound namespace prefix: "+JSON.stringify(o.tagName)),m.uri=l.prefix);var E=o.tags[o.tags.length-1]||o;m.ns&&E.ns!==m.ns&&Object.keys(m.ns).forEach(function(Re){O(o,"onopennamespace",{prefix:Re,uri:m.ns[Re]})});for(var D=0,$=o.attribList.length;D<$;D++){var j=o.attribList[D],q=j[0],ct=j[1],L=ee(q,!0),G=L.prefix,qi=L.local,De=G===""?"":m.ns[G]||"",oe={name:q,value:ct,prefix:G,local:qi,uri:De};G&&G!=="xmlns"&&!De&&(k(o,"Unbound namespace prefix: "+JSON.stringify(G)),oe.uri=G),o.tag.attributes[q]=oe,O(o,"onattribute",oe)}o.attribList.length=0}o.tag.isSelfClosing=!!i,o.sawRoot=!0,o.tags.push(o.tag),O(o,"onopentag",o.tag),i||(!o.noscript&&o.tagName.toLowerCase()==="script"?o.state=p.SCRIPT:o.state=p.TEXT,o.tag=null,o.tagName=""),o.attribName=o.attribValue="",o.attribList.length=0}function ie(o){if(!o.tagName){k(o,"Weird empty close tag."),o.textNode+="</>",o.state=p.TEXT;return}if(o.script){if(o.tagName!=="script"){o.script+="</"+o.tagName+">",o.tagName="",o.state=p.SCRIPT;return}O(o,"onscript",o.script),o.script=""}var i=o.tags.length,m=o.tagName;o.strict||(m=m[o.looseCase]());for(var l=m;i--;){var E=o.tags[i];if(E.name!==l)k(o,"Unexpected close tag");else break}if(i<0){k(o,"Unmatched closing tag: "+o.tagName),o.textNode+="</"+o.tagName+">",o.state=p.TEXT;return}o.tagName=m;for(var D=o.tags.length;D-- >i;){var $=o.tag=o.tags.pop();o.tagName=o.tag.name,O(o,"onclosetag",o.tagName);var j={};for(var q in $.ns)j[q]=$.ns[q];var ct=o.tags[o.tags.length-1]||o;o.opt.xmlns&&$.ns!==ct.ns&&Object.keys($.ns).forEach(function(L){var G=$.ns[L];O(o,"onclosenamespace",{prefix:L,uri:G})})}i===0&&(o.closedRoot=!0),o.tagName=o.attribValue=o.attribName="",o.attribList.length=0,o.state=p.TEXT}function zi(o){var i=o.entity,m=i.toLowerCase(),l,E="";return o.ENTITIES[i]?o.ENTITIES[i]:o.ENTITIES[m]?o.ENTITIES[m]:(i=m,i.charAt(0)==="#"&&(i.charAt(1)==="x"?(i=i.slice(2),l=parseInt(i,16),E=l.toString(16)):(i=i.slice(1),l=parseInt(i,10),E=l.toString(10))),i=i.replace(/^0+/,""),isNaN(l)||E.toLowerCase()!==i?(k(o,"Invalid character entity"),"&"+o.entity+";"):String.fromCodePoint(l))}function Oe(o,i){i==="<"?(o.state=p.OPEN_WAKA,o.startTagPosition=o.position):w(i)||(k(o,"Non-whitespace before first tag."),o.textNode=i,o.state=p.TEXT)}function Ie(o,i){var m="";return i<o.length&&(m=o.charAt(i)),m}function Hi(o){var i=this;if(this.error)throw this.error;if(i.closed)return Lt(i,"Cannot write after close. Assign an onready handler.");if(o===null)return Ce(i);typeof o=="object"&&(o=o.toString());for(var m=0,l="";l=Ie(o,m++),i.c=l,!!l;)switch(i.trackPosition&&(i.position++,l===`
`?(i.line++,i.column=0):i.column++),i.state){case p.BEGIN:if(i.state=p.BEGIN_WHITESPACE,l==="\uFEFF")continue;Oe(i,l);continue;case p.BEGIN_WHITESPACE:Oe(i,l);continue;case p.TEXT:if(i.sawRoot&&!i.closedRoot){for(var E=m-1;l&&l!=="<"&&l!=="&";)l=Ie(o,m++),l&&i.trackPosition&&(i.position++,l===`
`?(i.line++,i.column=0):i.column++);i.textNode+=o.substring(E,m-1)}l==="<"&&!(i.sawRoot&&i.closedRoot&&!i.strict)?(i.state=p.OPEN_WAKA,i.startTagPosition=i.position):(!w(l)&&(!i.sawRoot||i.closedRoot)&&k(i,"Text data outside of root node."),l==="&"?i.state=p.TEXT_ENTITY:i.textNode+=l);continue;case p.SCRIPT:l==="<"?i.state=p.SCRIPT_ENDING:i.script+=l;continue;case p.SCRIPT_ENDING:l==="/"?i.state=p.CLOSE_TAG:(i.script+="<"+l,i.state=p.SCRIPT);continue;case p.OPEN_WAKA:if(l==="!")i.state=p.SGML_DECL,i.sgmlDecl="";else if(!w(l))if(Y(C,l))i.state=p.OPEN_TAG,i.tagName=l;else if(l==="/")i.state=p.CLOSE_TAG,i.tagName="";else if(l==="?")i.state=p.PROC_INST,i.procInstName=i.procInstBody="";else{if(k(i,"Unencoded <"),i.startTagPosition+1<i.position){var D=i.position-i.startTagPosition;l=new Array(D).join(" ")+l}i.textNode+="<"+l,i.state=p.TEXT}continue;case p.SGML_DECL:(i.sgmlDecl+l).toUpperCase()===T?(O(i,"onopencdata"),i.state=p.CDATA,i.sgmlDecl="",i.cdata=""):i.sgmlDecl+l==="--"?(i.state=p.COMMENT,i.comment="",i.sgmlDecl=""):(i.sgmlDecl+l).toUpperCase()===h?(i.state=p.DOCTYPE,(i.doctype||i.sawRoot)&&k(i,"Inappropriately located doctype declaration"),i.doctype="",i.sgmlDecl=""):l===">"?(O(i,"onsgmldeclaration",i.sgmlDecl),i.sgmlDecl="",i.state=p.TEXT):(H(l)&&(i.state=p.SGML_DECL_QUOTED),i.sgmlDecl+=l);continue;case p.SGML_DECL_QUOTED:l===i.q&&(i.state=p.SGML_DECL,i.q=""),i.sgmlDecl+=l;continue;case p.DOCTYPE:l===">"?(i.state=p.TEXT,O(i,"ondoctype",i.doctype),i.doctype=!0):(i.doctype+=l,l==="["?i.state=p.DOCTYPE_DTD:H(l)&&(i.state=p.DOCTYPE_QUOTED,i.q=l));continue;case p.DOCTYPE_QUOTED:i.doctype+=l,l===i.q&&(i.q="",i.state=p.DOCTYPE);continue;case p.DOCTYPE_DTD:i.doctype+=l,l==="]"?i.state=p.DOCTYPE:H(l)&&(i.state=p.DOCTYPE_DTD_QUOTED,i.q=l);continue;case p.DOCTYPE_DTD_QUOTED:i.doctype+=l,l===i.q&&(i.state=p.DOCTYPE_DTD,i.q="");continue;case p.COMMENT:l==="-"?i.state=p.COMMENT_ENDING:i.comment+=l;continue;case p.COMMENT_ENDING:l==="-"?(i.state=p.COMMENT_ENDED,i.comment=Ae(i.opt,i.comment),i.comment&&O(i,"oncomment",i.comment),i.comment=""):(i.comment+="-"+l,i.state=p.COMMENT);continue;case p.COMMENT_ENDED:l!==">"?(k(i,"Malformed comment"),i.comment+="--"+l,i.state=p.COMMENT):i.state=p.TEXT;continue;case p.CDATA:l==="]"?i.state=p.CDATA_ENDING:i.cdata+=l;continue;case p.CDATA_ENDING:l==="]"?i.state=p.CDATA_ENDING_2:(i.cdata+="]"+l,i.state=p.CDATA);continue;case p.CDATA_ENDING_2:l===">"?(i.cdata&&O(i,"oncdata",i.cdata),O(i,"onclosecdata"),i.cdata="",i.state=p.TEXT):l==="]"?i.cdata+="]":(i.cdata+="]]"+l,i.state=p.CDATA);continue;case p.PROC_INST:l==="?"?i.state=p.PROC_INST_ENDING:w(l)?i.state=p.PROC_INST_BODY:i.procInstName+=l;continue;case p.PROC_INST_BODY:if(!i.procInstBody&&w(l))continue;l==="?"?i.state=p.PROC_INST_ENDING:i.procInstBody+=l;continue;case p.PROC_INST_ENDING:l===">"?(O(i,"onprocessinginstruction",{name:i.procInstName,body:i.procInstBody}),i.procInstName=i.procInstBody="",i.state=p.TEXT):(i.procInstBody+="?"+l,i.state=p.PROC_INST_BODY);continue;case p.OPEN_TAG:Y(N,l)?i.tagName+=l:(Ui(i),l===">"?tt(i):l==="/"?i.state=p.OPEN_TAG_SLASH:(w(l)||k(i,"Invalid character in tag name"),i.state=p.ATTRIB));continue;case p.OPEN_TAG_SLASH:l===">"?(tt(i,!0),ie(i)):(k(i,"Forward-slash in opening tag not followed by >"),i.state=p.ATTRIB);continue;case p.ATTRIB:if(w(l))continue;l===">"?tt(i):l==="/"?i.state=p.OPEN_TAG_SLASH:Y(C,l)?(i.attribName=l,i.attribValue="",i.state=p.ATTRIB_NAME):k(i,"Invalid attribute name");continue;case p.ATTRIB_NAME:l==="="?i.state=p.ATTRIB_VALUE:l===">"?(k(i,"Attribute without value"),i.attribValue=i.attribName,ae(i),tt(i)):w(l)?i.state=p.ATTRIB_NAME_SAW_WHITE:Y(N,l)?i.attribName+=l:k(i,"Invalid attribute name");continue;case p.ATTRIB_NAME_SAW_WHITE:if(l==="=")i.state=p.ATTRIB_VALUE;else{if(w(l))continue;k(i,"Attribute without value"),i.tag.attributes[i.attribName]="",i.attribValue="",O(i,"onattribute",{name:i.attribName,value:""}),i.attribName="",l===">"?tt(i):Y(C,l)?(i.attribName=l,i.state=p.ATTRIB_NAME):(k(i,"Invalid attribute name"),i.state=p.ATTRIB)}continue;case p.ATTRIB_VALUE:if(w(l))continue;H(l)?(i.q=l,i.state=p.ATTRIB_VALUE_QUOTED):(k(i,"Unquoted attribute value"),i.state=p.ATTRIB_VALUE_UNQUOTED,i.attribValue=l);continue;case p.ATTRIB_VALUE_QUOTED:if(l!==i.q){l==="&"?i.state=p.ATTRIB_VALUE_ENTITY_Q:i.attribValue+=l;continue}ae(i),i.q="",i.state=p.ATTRIB_VALUE_CLOSED;continue;case p.ATTRIB_VALUE_CLOSED:w(l)?i.state=p.ATTRIB:l===">"?tt(i):l==="/"?i.state=p.OPEN_TAG_SLASH:Y(C,l)?(k(i,"No whitespace between attributes"),i.attribName=l,i.attribValue="",i.state=p.ATTRIB_NAME):k(i,"Invalid attribute name");continue;case p.ATTRIB_VALUE_UNQUOTED:if(!te(l)){l==="&"?i.state=p.ATTRIB_VALUE_ENTITY_U:i.attribValue+=l;continue}ae(i),l===">"?tt(i):i.state=p.ATTRIB;continue;case p.CLOSE_TAG:if(i.tagName)l===">"?ie(i):Y(N,l)?i.tagName+=l:i.script?(i.script+="</"+i.tagName,i.tagName="",i.state=p.SCRIPT):(w(l)||k(i,"Invalid tagname in closing tag"),i.state=p.CLOSE_TAG_SAW_WHITE);else{if(w(l))continue;ji(C,l)?i.script?(i.script+="</"+l,i.state=p.SCRIPT):k(i,"Invalid tagname in closing tag."):i.tagName=l}continue;case p.CLOSE_TAG_SAW_WHITE:if(w(l))continue;l===">"?ie(i):k(i,"Invalid characters in closing tag");continue;case p.TEXT_ENTITY:case p.ATTRIB_VALUE_ENTITY_Q:case p.ATTRIB_VALUE_ENTITY_U:var $,j;switch(i.state){case p.TEXT_ENTITY:$=p.TEXT,j="textNode";break;case p.ATTRIB_VALUE_ENTITY_Q:$=p.ATTRIB_VALUE_QUOTED,j="attribValue";break;case p.ATTRIB_VALUE_ENTITY_U:$=p.ATTRIB_VALUE_UNQUOTED,j="attribValue";break}l===";"?(i[j]+=zi(i),i.entity="",i.state=$):Y(i.entity.length?B:v,l)?i.entity+=l:(k(i,"Invalid character in entity name"),i[j]+="&"+i.entity+l,i.entity="",i.state=$);continue;default:throw new Error(i,"Unknown state: "+i.state)}return i.position>=i.bufferCheckPosition&&n(i),i}String.fromCodePoint||function(){var o=String.fromCharCode,i=Math.floor,m=function(){var l=16384,E=[],D,$,j=-1,q=arguments.length;if(!q)return"";for(var ct="";++j<q;){var L=Number(arguments[j]);if(!isFinite(L)||L<0||L>1114111||i(L)!==L)throw RangeError("Invalid code point: "+L);L<=65535?E.push(L):(L-=65536,D=(L>>10)+55296,$=L%1024+56320,E.push(D,$)),(j+1===q||E.length>l)&&(ct+=o.apply(null,E),E.length=0)}return ct};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:m,configurable:!0,writable:!0}):String.fromCodePoint=m}()})(typeof Pt=="undefined"?Pt.sax={}:Pt)});var je=et((Dr,Me)=>{var Fe=/[&<>"]/g,to=RegExp(Fe.source),eo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},ao=t=>{let e=String(t);return e&&to.test(e)?e.replace(Fe,a=>eo[a]):e},io=(t,e)=>typeof t=="string"&&typeof e=="string"||t&&t[0].$name===e.$name,oo=(t,e)=>typeof t=="string"?t+e:t.concat(e),no=t=>t.reduce((e,a)=>{let n=e.length-1,r=e[n];return io(r,a)?e[n]=oo(r,a):e.push(typeof a=="string"?a:[a]),e},[]),ro=(t,e,a)=>{let n=null,r={};return Object.keys(t).forEach(s=>{let c=Ft(t[s])?t[s]:null;if(c)switch(s){case"$name":!e&&c&&(r.$name=c);break;case"$attrs":n=c;break;case"$markup":r.$markup=Be(c);break;default:c&&(r[s]=a(c))}}),{stripped:r,$attrs:n}},lo=t=>Array.isArray(t)&&t.length===1?t[0]:t,so=(t,e)=>Ft(e)?t?Object.keys(e).length===1&&e.$name?Object.assign(e,t):Object.assign(e,{$attrs:t}):e:t,po=t=>{if(!t)return;let e=Object.keys(t),[a]=e;return e.length===1&&a!=="$name"&&a!=="id"?t[e[0]]:t},ne=(t,e,a)=>{let n=a?u=>u:lo,r=n(t);if(!Ft(r))return null;if(typeof r!="object"||Array.isArray(r))return r;let{$attrs:s,stripped:c}=ro(r,e,n),d=so(s,c);return po(d)},co=t=>{let e,a={},n=!0;return t.every(r=>(typeof r=="string"?e="$text":e=r[0].$name,a[e]?(n=!1,!1):(a[e]=!0,!0))),n},re=(t=[],e=[],a=!1)=>{let n=Array.isArray(t)?t:[t],r=Array.isArray(e)?e:[e],s=n.concat(r);return s.length===1&&!a?s[0]:s},Be=(t,e)=>{let a=[];return t!==null&&typeof t=="object"&&t.constructor===Array?(t.forEach(n=>{a.push(ne(n,e))}),a):ne(t,e)},mo=(t,e)=>{let a,n={};return Object.keys(t).forEach(r=>{r!=="$markup"&&(n[r]=t[r])}),t.$markup&&t.$markup.forEach(r=>{typeof r=="string"?n.$text=re(n.$text,r,e):typeof r=="object"&&(r.constructor===Array?a=r[0].$name:a=r.$name,n[a]=re(n[a],Be(r,!0),e))}),n},Ft=t=>t!=null&&(t.length==null||t.length!==0)&&(typeof t!="object"||Object.keys(t).length!==0);Me.exports={condenseArray:no,escape:ao,isSomething:Ft,moosh:re,objectifyMarkup:mo,shouldObjectifyMarkup:co,simplifyNode:ne}});var He=et((Rr,ze)=>{var{EventEmitter:uo}=require("events"),fo=Pe(),K=je(),go=1,ut=0,X=-1,Ue={preserveMarkup:ut,simplifyNodes:!0,useArrays:ut,lowercase:!0,trim:!0,normalize:!0,cdataAsText:!1,strict:!1},wt=function(e,a=Ue){let n=new uo,r=[],s=Object.assign({},Ue,a),{preserveMarkup:c,simplifyNodes:d,useArrays:u,lowercase:x,trim:T,normalize:h,cdataAsText:y,strict:b}=s,g=null,C=null,N=fo.createStream(b,{lowercase:x,trim:T,normalize:h,cdataAsText:y});return N.on("opentag",v=>{r.length===0&&!n.listeners(`tag:${v.name}`).length||(g={$name:v.name,$attrs:v.attributes},u>X&&(g.$markup=[]),r.push(g))}),N.on("text",v=>{g&&(u>X?g.$markup.push(v):g.$text?g.$text+=v:g.$text=v)}),N.on("opencdata",()=>{g&&(y||(C={$name:"$cdata",text:""},u>X?g.$markup.push(C):g.$cdata=C))}),N.on("cdata",v=>{g&&(C!==null?C.text+=v:u>X?g.$markup.push(v):g.$text?g.$text+=v:g.$text=v)}),N.on("closecdata",()=>{C=null}),N.on("script",v=>{g&&(g.$script=v)}),N.on("closetag",v=>{let B,w=null,H=u>ut;r.length!==0&&(u>X&&(c<=X?(g.$markup=K.condenseArray(g.$markup),g=K.objectifyMarkup(g,H)):c===ut&&(B=K.condenseArray(g.$markup),K.shouldObjectifyMarkup(B)&&(g.$markup=B,g=K.objectifyMarkup(g,H)))),n.listeners(`tag:${v}`).length&&n.emit(`tag:${v}`,d?K.simplifyNode(g,!1,u>ut):g),r.pop(),r.length>0&&(w=r[r.length-1],u>X?w.$markup.push(g):w[v]||(w[v]=K.simplifyNode(g,!0))),g=w)}),N.on("end",()=>{n.emit("end")}),N.on("error",v=>{n.emit("error",v)}),e.pipe(N),n.pause=function(){e.pause()},n.resume=function(){e.resume()},n};wt.ALWAYS=go;wt.SOMETIMES=ut;wt.NEVER=X;wt.toXml=function(e,{indent:a="",selfClosing:n=!0,escape:r=K.escape,nodeName:s}={}){let c=a?`
`:"";function d(u,x,T){let h="",y,b=x,g=T?c+T:"",C=T+a,N="";return u=u||"",u.constructor===Array?(u.forEach(v=>{h+=d(v,b,T)}),h):(!b&&u.$name&&(b=u.$name),b&&(h=`${g}<${b}`,u.$attrs&&typeof u.$attrs=="object"&&(y=Object.keys(u.$attrs),y.forEach(v=>{h+=` ${v}=${JSON.stringify(String(u.$attrs[v]))}`}))),u==null||u===""||(typeof u=="object"?(y=Object.keys(u),y.forEach(v=>{let B=u[v];switch(v){case"$name":case"$attrs":break;case"$text":case"$markup":N+=d(B,null,C);break;case"$script":N+=d(B,"script",C);break;case"$cdata":N+=`${g}<![CDATA[${B}]]>`;break;default:N+=d(B,v,C)}})):N+=g+r(u)),b?N?h+=`>${N}${c}${T}</${b}>`:n?h+="/>":h+=`></${b}>`:h+=N,h)}return d(e,s,"")};ze.exports=wt});var ia=et((Zr,aa)=>{"use strict";function Oo(t){return t>=55296&&t<=56319}function Io(t){return t>=56320&&t<=57343}aa.exports=function(e,a,n){if(typeof a!="string")throw new Error("Input must be string");for(var r=a.length,s=0,c,d,u=0;u<r;u+=1){if(c=a.charCodeAt(u),d=a[u],Oo(c)&&Io(a.charCodeAt(u+1))&&(u+=1,d+=a[u]),s+=e(d),s===n)return a.slice(0,u+1);if(s>n)return a.slice(0,u-d.length+1)}return a}});var na=et((Jr,oa)=>{"use strict";function Do(t){return t>=55296&&t<=56319}function Ro(t){return t>=56320&&t<=57343}oa.exports=function(e){if(typeof e!="string")throw new Error("Input must be string");for(var a=e.length,n=0,r=null,s=null,c=0;c<a;c++)r=e.charCodeAt(c),Ro(r)?s!=null&&Do(s)?n+=1:n+=3:r<=127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3),s=r;return n}});var la=et((tl,ra)=>{"use strict";var So=ia(),$o=na();ra.exports=So.bind(null,$o)});var ca=et((el,pa)=>{"use strict";var Lo=la(),_o=/[\/\?<>\\:\*\|"]/g,Po=/[\x00-\x1f\x80-\x9f]/g,Fo=/^\.+$/,Bo=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,Mo=/[\. ]+$/;function sa(t,e){if(typeof t!="string")throw new Error("Input must be string");var a=t.replace(_o,e).replace(Po,e).replace(Fo,e).replace(Bo,e).replace(Mo,e);return Lo(a,255)}pa.exports=function(t,e){var a=e&&e.replacement||"",n=sa(t,a);return a===""?n:sa(n,"")}});var vr={};U(vr,{ImporterModal:()=>$t,default:()=>Jt});module.exports=Xi(vr);var dt=R(require("fs")),_e=R(require("path")),W=require("obsidian");function Qi(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Zi='\\/:*?<>"|',Ji=new RegExp("["+Qi(Zi)+"]","g");function $e(t){return t.replace(Ji,"")}function Le(t){if(!t.contains("/"))return t;let e=t.lastIndexOf("/"),a=t.slice(e+1),n=a.lastIndexOf(".");return n===-1||n===a.length-1||n===0?a:a.slice(0,n)}var mt=class{constructor(e,a){this.filePaths=[];this.app=e,this.modal=a,this.init()}addFileOrFolderChooserSetting(e,a){let n=null,r=()=>{let s=n.getValue();this.fileLocationSetting.settingEl.toggle(s==="files"),this.folderLocationSetting.settingEl.toggle(s==="folders")};new W.Setting(this.modal.contentEl).setName("Import type").setName("Choose if you're importing folders or files.").addDropdown(s=>s.addOption("files","Files").addOption("folders","Folders").onChange(r).setValue("files").then(c=>n=c)),this.addFileChooserSetting(e,a),this.addFolderChooserSetting(e,a),r()}addFileChooserSetting(e,a){this.fileLocationSetting=new W.Setting(this.modal.contentEl).setName("Files to import").setDesc("Pick the files that you want to import.").addButton(n=>n.setButtonText("Browse").onClick(()=>{let s=window.electron.remote.dialog.showOpenDialogSync({title:"Pick files to import",properties:["openFile","multiSelections","dontAddToRecent"],filters:[{name:e,extensions:a}]});if(s&&s.length>0){this.filePaths=s;let c=document.createDocumentFragment();c.createEl("span",{text:"You've picked the following files to import: "}),c.createEl("span",{cls:"u-pop",text:s.join(", ")}),this.fileLocationSetting.setDesc(c)}}))}addFolderChooserSetting(e,a){let n=r=>{let s=[];return dt.readdirSync(r).forEach(d=>{d=_e.join(r,d);let u=dt.statSync(d);if(u&&u.isDirectory())s=s.concat(n(d));else{let x=d.lastIndexOf(".");if(x===-1||x===d.length-1||x===0)return;let T=d.slice(x+1);a.contains(T)&&s.push(d)}}),s};this.folderLocationSetting=new W.Setting(this.modal.contentEl).setName("Folders to import").setDesc("Pick the folders that you want to import.").addButton(r=>r.setButtonText("Browse").onClick(async()=>{let c=window.electron.remote.dialog.showOpenDialogSync({title:"Pick folders to import",properties:["openDirectory","multiSelections","dontAddToRecent"],filters:[{name:e,extensions:a}]});if(c&&c.length>0){this.filePaths=[];for(let u of c)this.filePaths=this.filePaths.concat(n(u));let d=document.createDocumentFragment();d.createEl("span",{text:"You've picked the following folders to import: "}),d.createEl("span",{cls:"u-pop",text:c.join(", ")}),this.folderLocationSetting.setDesc(d)}}))}addOutputLocationSetting(e){new W.Setting(this.modal.contentEl).setName("Output folder").setDesc("Choose a folder in the vault to put the imported files. Leave empty to output to vault root.").addText(a=>a.setValue(e).then(n=>this.outputLocationSettingInput=n))}async getOutputFolder(){let{vault:e}=this.app,a=this.outputLocationSettingInput.getValue();a===""&&(a="/");let n=e.getAbstractFileByPath(a);return(n===null||!(n instanceof W.TFolder))&&(await e.createFolder(a),n=e.getAbstractFileByPath(a)),n instanceof W.TFolder?n:null}showResult(e){let{modal:a}=this,{contentEl:n}=a;n.empty(),n.createEl("p",{text:`You successfully imported ${e.total-e.failed-e.skipped} notes, out of ${e.total} total notes!`}),(e.skipped!==0||e.failed!==0)&&n.createEl("p",{text:`${e.skipped} notes were skipped and ${e.failed} notes failed to import.`}),n.createDiv("button-container u-center-text",r=>{r.createEl("button",{cls:"mod-cta",text:"Done"},s=>{s.addEventListener("click",async()=>{a.close()})})})}async readPath(e){return await dt.readFileSync(e,"utf-8")}async saveAsMarkdownFile(e,a,n){let r=$e(a);await this.app.fileManager.createNewMarkdownFile(e,r,n)}};var St=require("obsidian"),Mi=R(require("path"));var yt=R(require("fs")),_i=R(require("path")),Pi=R(He());var qe=require("obsidian");var Ye=t=>({...t,created:At(t.created),statusupdated:At(t.statusupdated),updated:At(t.updated),duedate:At(t.duedate),taskflag:t.taskflag==="true",reminderdate:t.reminder?At(t.reminder.reminderdate):void 0,sortweight:t.sortweight}),At=t=>t?(0,qe.moment)(t,"YYYYMMDDThhmmssZ").toDate():void 0;var Ge=/highlight-(?:text|source)-([a-z0-9]+)/;function xo(t){t.addRule("highlightedCodeBlock",{filter:function(e){var a=e.firstChild;return e.nodeName==="DIV"&&Ge.test(e.className)&&a&&a.nodeName==="PRE"},replacement:function(e,a,n){var r=a.className||"",s=(r.match(Ge)||[null,""])[1];return`

`+n.fence+s+`
`+a.firstChild.textContent+`
`+n.fence+`

`}})}function vo(t){t.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var ho=Array.prototype.indexOf,To=Array.prototype.every,ft={};ft.tableCell={filter:["th","td"],replacement:function(t,e){return se(We(e))?t:le(t,e)}};ft.tableRow={filter:"tr",replacement:function(t,e){let a=We(e);if(se(a))return t;var n="",r={left:":--",right:"--:",center:":-:"};if(bo(e)){let u=Ke(a);for(var s=0;s<u;s++){let x=u>=e.childNodes.length?null:e.childNodes[s];var c="---",d=x?(x.getAttribute("align")||"").toLowerCase():"";d&&(c=r[d]||c),x?n+=le(c,e.childNodes[s]):n+=le(c,null,s)}}return`
`+t+(n?`
`+n:"")}};ft.table={filter:function(t){return t.nodeName==="TABLE"},replacement:function(t,e){if(se(e))return t;t=t.replace(/\n+/g,`
`);var a=t.trim().split(`
`);a.length>=2&&(a=a[1]);var n=a.indexOf("| ---")===0,r=Ke(e),s="";return r&&!n&&(s="|"+"     |".repeat(r)+`
|`+" --- |".repeat(r)),`

`+s+t+`

`}};ft.tableSection={filter:["thead","tbody","tfoot"],replacement:function(t){return t}};function bo(t){var e=t.parentNode;return e.nodeName==="THEAD"||e.firstChild===t&&(e.nodeName==="TABLE"||yo(e))&&To.call(t.childNodes,function(a){return a.nodeName==="TH"})}function yo(t){var e=t.previousSibling;return t.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function le(t,e=null,a=null){a===null&&(a=ho.call(e.parentNode.childNodes,e));var n=" ";a===0&&(n="| ");let r=t.trim().replace(/\n\r/g,"<br>").replace(/\n/g,"<br>");for(r=r.replace(/\|+/g,"\\|");r.length<3;)r+=" ";return e&&(r=No(r,e," ")),n+r+" |"}function Ve(t){if(!t.childNodes)return!1;for(let e=0;e<t.childNodes.length;e++){let a=t.childNodes[e];if(a.nodeName==="TABLE"||Ve(a))return!0}return!1}function se(t){return!!(!t||!t.rows||t.rows.length===1&&t.rows[0].childNodes.length<=1||Ve(t))}function We(t){let e=t.parentNode;for(;e.nodeName!=="TABLE";)if(e=e.parentNode,!e)return null;return e}function No(t,e,a){let n=e.getAttribute("colspan")||1;for(let r=1;r<n;r++)t+=" | "+a.repeat(3);return t}function Ke(t){let e=0;for(let a=0;a<t.rows.length;a++){let r=t.rows[a].childNodes.length;r>e&&(e=r)}return e}function Eo(t){t.keep(function(a){return a.nodeName==="TABLE"});for(var e in ft)t.addRule(e,ft[e])}function ko(t){t.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,a){return(a.checked?"[x]":"[ ]")+" "}})}function Xe(t){t.use([xo,vo,Eo,ko])}var z=t=>e=>e.nodeName===t||e.nodeName.toLowerCase()===t;var A=t=>{let e={get(a,n){return a[n]}};return new Proxy(t.attributes,e)};var Qe="\n```\n",pe=t=>{let e=A(t),a="-en-codeblock:true";return e.style&&e.style.value.indexOf(a)>=0},wo=t=>{let e=A(t),a="padding-left:",n=0;return e.style&&e.style.value.indexOf(a)>=0&&(n=Math.floor(e.style.value.split(a)[1].split("px")[0]/20)),n},ce=t=>t.replace(/\\(.)/g,"$1"),Br={filter:z("DIV"),replacement:(t,e)=>me(t,e)},me=(t,e)=>{let a=A(e),n=wo(e);if(t=`${"	".repeat(n)}${t}`,pe(e))return t=ce(t),`${Qe}${t}${Qe}`;if(e.parentElement&&pe(e.parentElement)&&e.parentElement.firstElementChild===e)return`${t}`;if(e.parentElement&&pe(e.parentElement))return`
${t}`;let r=e.innerHTML;return e.isBlock?`
${t}
`:t};var Bt="\n```\n",Ao="-en-codeblock:true",Co=/\b(Courier|Mono|Consolas|Console|Inconsolata|Pitch|Monaco|monospace)\b/,Ze=t=>{var s,c;if(t.nodeType!==1)return null;let e=t.childNodes,a=e.length;if(a>1)return"mixed";if(a===1){let d=Ze(e[0]);if(d)return d}let n=A(t);if(t.tagName==="FONT")return(s=n.face)==null?void 0:s.value;let r=(c=n.style)==null?void 0:c.value;if(r){let d=r.match(/font-family:([^;]+)/);if(d)return d[1]}return null},Ct=t=>{var r;let a=(r=A(t).style)==null?void 0:r.value;if(a&&a.includes(Ao))return!0;let n=Ze(t);return n&&Co.test(n)},Je=(t,e)=>{if(Ct(e)){let a=e.previousSibling,n=a&&a.tagName===e.tagName&&Ct(a),r=e.nextSibling,s=r&&r.tagName===e.tagName&&Ct(r);return n||s?(t=n?`
${t}`:`${Bt}${t}`,t=s?`${t}
`:`${t}${Bt}`,t):(t=ce(t),t.trim()?`${Bt}${t}${Bt}`:t)}return e.parentElement&&Ct(e.parentElement)&&e.parentElement.firstElementChild===e?t:e.parentElement&&Ct(e.parentElement)?`
${t}`:e.isBlock?`
${t}
`:t};var ta={filter:z("IMG"),replacement:(t,e)=>{let a=A(e);if(!a.src)return"";let n=a.src.value,r=e.width||"",s=e.height||"",c=n;f.sanitizeResourceNameSpaces?c=c.replace(/ /g,f.replacementChar):f.urlEncodeFileNamesAndLinks&&(c=encodeURI(c));let d=r||s?` =${r}x${s}`:"";if(f.keepImageSize)return d=r||s?`|${r||0}x${s||0}`:"",c.startsWith("./")?`![[${c}${d}]]`:`![${d}](${c})`;if(!n.match(/^[a-z]+:/))return`![[${c}]]`;let u=a.src.value.split("/");return`![${u[u.length-1]}](${c})`}};var I=class{constructor(){this.noteIdNameMap={},this.noteIdNameTOCMap={}}static getInstance(){return I.instance||(I.instance=new I),I.instance}addItemToMap(e){this.noteIdNameMap[e.url]={...this.noteIdNameMap[e.url],title:e.title,noteName:this.currentNoteName,notebookName:this.currentNotebookName,uniqueEnd:e.uniqueEnd}}addItemToTOCMap(e){this.noteIdNameTOCMap[e.url]={...this.noteIdNameMap[e.url],title:e.title,noteName:this.currentNoteName,notebookName:this.currentNotebookName,uniqueEnd:e.uniqueEnd}}getNoteIdNameMap(){return this.noteIdNameMap}getNoteIdNameTOCMap(){return this.noteIdNameTOCMap}getAllNoteIdNameMap(){return{...this.noteIdNameMap,...this.noteIdNameTOCMap}}getNoteIdNameMapByNoteTitle(e){return Object.values(this.getAllNoteIdNameMap()).filter(a=>a.title===e)}setCurrentNotebookName(e){this.currentNotebookName=e}setCurrentNoteName(e){this.currentNoteName=e}getCurrentNoteName(){return this.currentNoteName}getCurrentNotePath(){return this.currentNotePath}setCurrentNotePath(e){this.currentNotePath=e}};var da=R(require("fs"));var ea=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,a)=>(a&=63,a<36?e+=a.toString(36):a<62?e+=(a-26).toString(36).toUpperCase():a>62?e+="-":e+="_",e),"");var ua=require("obsidian"),fa=R(require("path")),ga=R(ca());var gt=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");var jo={"application/andrew-inset":"ez","application/applixware":"aw","application/atom+xml":"atom","application/atomcat+xml":"atomcat","application/atomdeleted+xml":"atomdeleted","application/atomsvc+xml":"atomsvc","application/atsc-dwd+xml":"dwd","application/atsc-held+xml":"held","application/atsc-rsat+xml":"rsat","application/bdoc":"bdoc","application/calendar+xml":"xcs","application/ccxml+xml":"ccxml","application/cdfx+xml":"cdfx","application/cdmi-capability":"cdmia","application/cdmi-container":"cdmic","application/cdmi-domain":"cdmid","application/cdmi-object":"cdmio","application/cdmi-queue":"cdmiq","application/cpl+xml":"cpl","application/cu-seeme":"cu","application/dash+xml":"mpd","application/dash-patch+xml":"mpp","application/davmount+xml":"davmount","application/docbook+xml":"dbk","application/dssc+der":"dssc","application/dssc+xml":"xdssc","application/ecmascript":"es","application/emma+xml":"emma","application/emotionml+xml":"emotionml","application/epub+zip":"epub","application/exi":"exi","application/express":"exp","application/fdt+xml":"fdt","application/font-tdpfr":"pfr","application/geo+json":"geojson","application/gml+xml":"gml","application/gpx+xml":"gpx","application/gxf":"gxf","application/gzip":"gz","application/hjson":"hjson","application/hyperstudio":"stk","application/inkml+xml":"ink","application/ipfix":"ipfix","application/its+xml":"its","application/java-archive":"jar","application/java-serialized-object":"ser","application/java-vm":"class","application/javascript":"js","application/json":"json","application/json5":"json5","application/jsonml+json":"jsonml","application/ld+json":"jsonld","application/lgr+xml":"lgr","application/lost+xml":"lostxml","application/mac-binhex40":"hqx","application/mac-compactpro":"cpt","application/mads+xml":"mads","application/manifest+json":"webmanifest","application/marc":"mrc","application/marcxml+xml":"mrcx","application/mathematica":"ma","application/mathml+xml":"mathml","application/mbox":"mbox","application/media-policy-dataset+xml":"mpf","application/mediaservercontrol+xml":"mscml","application/metalink+xml":"metalink","application/metalink4+xml":"meta4","application/mets+xml":"mets","application/mmt-aei+xml":"maei","application/mmt-usd+xml":"musd","application/mods+xml":"mods","application/mp21":"m21","application/mp4":"mp4s","application/msword":"doc","application/mxf":"mxf","application/n-quads":"nq","application/n-triples":"nt","application/node":"cjs","application/octet-stream":"bin","application/oda":"oda","application/oebps-package+xml":"opf","application/ogg":"ogx","application/omdoc+xml":"omdoc","application/onenote":"onetoc","application/oxps":"oxps","application/p2p-overlay+xml":"relo","application/patch-ops-error+xml":"xer","application/pdf":"pdf","application/pgp-encrypted":"pgp","application/pgp-keys":"asc","application/pgp-signature":"asc","application/pics-rules":"prf","application/pkcs10":"p10","application/pkcs7-mime":"p7m","application/pkcs7-signature":"p7s","application/pkcs8":"p8","application/pkix-attr-cert":"ac","application/pkix-cert":"cer","application/pkix-crl":"crl","application/pkix-pkipath":"pkipath","application/pkixcmp":"pki","application/pls+xml":"pls","application/postscript":"ai","application/provenance+xml":"provx","application/prs.cww":"cww","application/pskc+xml":"pskcxml","application/raml+yaml":"raml","application/rdf+xml":"rdf","application/reginfo+xml":"rif","application/relax-ng-compact-syntax":"rnc","application/resource-lists+xml":"rl","application/resource-lists-diff+xml":"rld","application/rls-services+xml":"rs","application/route-apd+xml":"rapd","application/route-s-tsid+xml":"sls","application/route-usd+xml":"rusd","application/rpki-ghostbusters":"gbr","application/rpki-manifest":"mft","application/rpki-roa":"roa","application/rsd+xml":"rsd","application/rss+xml":"rss","application/rtf":"rtf","application/sbml+xml":"sbml","application/scvp-cv-request":"scq","application/scvp-cv-response":"scs","application/scvp-vp-request":"spq","application/scvp-vp-response":"spp","application/sdp":"sdp","application/senml+xml":"senmlx","application/sensml+xml":"sensmlx","application/set-payment-initiation":"setpay","application/set-registration-initiation":"setreg","application/shf+xml":"shf","application/sieve":"siv","application/smil+xml":"smi","application/sparql-query":"rq","application/sparql-results+xml":"srx","application/srgs":"gram","application/srgs+xml":"grxml","application/sru+xml":"sru","application/ssdl+xml":"ssdl","application/ssml+xml":"ssml","application/swid+xml":"swidtag","application/tei+xml":"tei","application/thraud+xml":"tfi","application/timestamped-data":"tsd","application/toml":"toml","application/trig":"trig","application/ttml+xml":"ttml","application/ubjson":"ubj","application/urc-ressheet+xml":"rsheet","application/urc-targetdesc+xml":"td","application/vnd.1000minds.decision-model+xml":"1km","application/vnd.3gpp.pic-bw-large":"plb","application/vnd.3gpp.pic-bw-small":"psb","application/vnd.3gpp.pic-bw-var":"pvb","application/vnd.3gpp2.tcap":"tcap","application/vnd.3m.post-it-notes":"pwn","application/vnd.accpac.simply.aso":"aso","application/vnd.accpac.simply.imp":"imp","application/vnd.acucobol":"acu","application/vnd.acucorp":"atc","application/vnd.adobe.air-application-installer-package+zip":"air","application/vnd.adobe.formscentral.fcdt":"fcdt","application/vnd.adobe.fxp":"fxp","application/vnd.adobe.xdp+xml":"xdp","application/vnd.adobe.xfdf":"xfdf","application/vnd.age":"age","application/vnd.ahead.space":"ahead","application/vnd.airzip.filesecure.azf":"azf","application/vnd.airzip.filesecure.azs":"azs","application/vnd.amazon.ebook":"azw","application/vnd.americandynamics.acc":"acc","application/vnd.amiga.ami":"ami","application/vnd.android.package-archive":"apk","application/vnd.anser-web-certificate-issue-initiation":"cii","application/vnd.anser-web-funds-transfer-initiation":"fti","application/vnd.antix.game-component":"atx","application/vnd.apple.installer+xml":"mpkg","application/vnd.apple.keynote":"key","application/vnd.apple.mpegurl":"m3u8","application/vnd.apple.numbers":"numbers","application/vnd.apple.pages":"pages","application/vnd.apple.pkpass":"pkpass","application/vnd.aristanetworks.swi":"swi","application/vnd.astraea-software.iota":"iota","application/vnd.audiograph":"aep","application/vnd.balsamiq.bmml+xml":"bmml","application/vnd.blueice.multipass":"mpm","application/vnd.bmi":"bmi","application/vnd.businessobjects":"rep","application/vnd.chemdraw+xml":"cdxml","application/vnd.chipnuts.karaoke-mmd":"mmd","application/vnd.cinderella":"cdy","application/vnd.citationstyles.style+xml":"csl","application/vnd.claymore":"cla","application/vnd.cloanto.rp9":"rp9","application/vnd.clonk.c4group":"c4g","application/vnd.cluetrust.cartomobile-config":"c11amc","application/vnd.cluetrust.cartomobile-config-pkg":"c11amz","application/vnd.commonspace":"csp","application/vnd.contact.cmsg":"cdbcmsg","application/vnd.cosmocaller":"cmc","application/vnd.crick.clicker":"clkx","application/vnd.crick.clicker.keyboard":"clkk","application/vnd.crick.clicker.palette":"clkp","application/vnd.crick.clicker.template":"clkt","application/vnd.crick.clicker.wordbank":"clkw","application/vnd.criticaltools.wbs+xml":"wbs","application/vnd.ctc-posml":"pml","application/vnd.cups-ppd":"ppd","application/vnd.curl.car":"car","application/vnd.curl.pcurl":"pcurl","application/vnd.dart":"dart","application/vnd.data-vision.rdz":"rdz","application/vnd.dbf":"dbf","application/vnd.dece.data":"uvf","application/vnd.dece.ttml+xml":"uvt","application/vnd.dece.unspecified":"uvx","application/vnd.dece.zip":"uvz","application/vnd.denovo.fcselayout-link":"fe_launch","application/vnd.dna":"dna","application/vnd.dolby.mlp":"mlp","application/vnd.dpgraph":"dpg","application/vnd.dreamfactory":"dfac","application/vnd.ds-keypoint":"kpxx","application/vnd.dvb.ait":"ait","application/vnd.dvb.service":"svc","application/vnd.dynageo":"geo","application/vnd.ecowin.chart":"mag","application/vnd.enliven":"nml","application/vnd.epson.esf":"esf","application/vnd.epson.msf":"msf","application/vnd.epson.quickanime":"qam","application/vnd.epson.salt":"slt","application/vnd.epson.ssf":"ssf","application/vnd.eszigno3+xml":"es3","application/vnd.ezpix-album":"ez2","application/vnd.ezpix-package":"ez3","application/vnd.fdf":"fdf","application/vnd.fdsn.mseed":"mseed","application/vnd.fdsn.seed":"seed","application/vnd.flographit":"gph","application/vnd.fluxtime.clip":"ftc","application/vnd.framemaker":"fm","application/vnd.frogans.fnc":"fnc","application/vnd.frogans.ltf":"ltf","application/vnd.fsc.weblaunch":"fsc","application/vnd.fujitsu.oasys":"oas","application/vnd.fujitsu.oasys2":"oa2","application/vnd.fujitsu.oasys3":"oa3","application/vnd.fujitsu.oasysgp":"fg5","application/vnd.fujitsu.oasysprs":"bh2","application/vnd.fujixerox.ddd":"ddd","application/vnd.fujixerox.docuworks":"xdw","application/vnd.fujixerox.docuworks.binder":"xbd","application/vnd.fuzzysheet":"fzs","application/vnd.genomatix.tuxedo":"txd","application/vnd.geogebra.file":"ggb","application/vnd.geogebra.tool":"ggt","application/vnd.geometry-explorer":"gex","application/vnd.geonext":"gxt","application/vnd.geoplan":"g2w","application/vnd.geospace":"g3w","application/vnd.gmx":"gmx","application/vnd.google-apps.document":"gdoc","application/vnd.google-apps.presentation":"gslides","application/vnd.google-apps.spreadsheet":"gsheet","application/vnd.google-earth.kml+xml":"kml","application/vnd.google-earth.kmz":"kmz","application/vnd.grafeq":"gqf","application/vnd.groove-account":"gac","application/vnd.groove-help":"ghf","application/vnd.groove-identity-message":"gim","application/vnd.groove-injector":"grv","application/vnd.groove-tool-message":"gtm","application/vnd.groove-tool-template":"tpl","application/vnd.groove-vcard":"vcg","application/vnd.hal+xml":"hal","application/vnd.handheld-entertainment+xml":"zmm","application/vnd.hbci":"hbci","application/vnd.hhe.lesson-player":"les","application/vnd.hp-hpgl":"hpgl","application/vnd.hp-hpid":"hpid","application/vnd.hp-hps":"hps","application/vnd.hp-jlyt":"jlt","application/vnd.hp-pcl":"pcl","application/vnd.hp-pclxl":"pclxl","application/vnd.hydrostatix.sof-data":"sfd-hdstx","application/vnd.ibm.minipay":"mpy","application/vnd.ibm.modcap":"afp","application/vnd.ibm.rights-management":"irm","application/vnd.ibm.secure-container":"sc","application/vnd.iccprofile":"icc","application/vnd.igloader":"igl","application/vnd.immervision-ivp":"ivp","application/vnd.immervision-ivu":"ivu","application/vnd.insors.igm":"igm","application/vnd.intercon.formnet":"xpw","application/vnd.intergeo":"i2g","application/vnd.intu.qbo":"qbo","application/vnd.intu.qfx":"qfx","application/vnd.ipunplugged.rcprofile":"rcprofile","application/vnd.irepository.package+xml":"irp","application/vnd.is-xpr":"xpr","application/vnd.isac.fcs":"fcs","application/vnd.jam":"jam","application/vnd.jcp.javame.midlet-rms":"rms","application/vnd.jisp":"jisp","application/vnd.joost.joda-archive":"joda","application/vnd.kahootz":"ktz","application/vnd.kde.karbon":"karbon","application/vnd.kde.kchart":"chrt","application/vnd.kde.kformula":"kfo","application/vnd.kde.kivio":"flw","application/vnd.kde.kontour":"kon","application/vnd.kde.kpresenter":"kpr","application/vnd.kde.kspread":"ksp","application/vnd.kde.kword":"kwd","application/vnd.kenameaapp":"htke","application/vnd.kidspiration":"kia","application/vnd.kinar":"kne","application/vnd.koan":"skp","application/vnd.kodak-descriptor":"sse","application/vnd.las.las+xml":"lasxml","application/vnd.llamagraphics.life-balance.desktop":"lbd","application/vnd.llamagraphics.life-balance.exchange+xml":"lbe","application/vnd.lotus-1-2-3":"123","application/vnd.lotus-approach":"apr","application/vnd.lotus-freelance":"pre","application/vnd.lotus-notes":"nsf","application/vnd.lotus-organizer":"org","application/vnd.lotus-screencam":"scm","application/vnd.lotus-wordpro":"lwp","application/vnd.macports.portpkg":"portpkg","application/vnd.mapbox-vector-tile":"mvt","application/vnd.mcd":"mcd","application/vnd.medcalcdata":"mc1","application/vnd.mediastation.cdkey":"cdkey","application/vnd.mfer":"mwf","application/vnd.mfmp":"mfm","application/vnd.micrografx.flo":"flo","application/vnd.micrografx.igx":"igx","application/vnd.mif":"mif","application/vnd.mobius.daf":"daf","application/vnd.mobius.dis":"dis","application/vnd.mobius.mbk":"mbk","application/vnd.mobius.mqy":"mqy","application/vnd.mobius.msl":"msl","application/vnd.mobius.plc":"plc","application/vnd.mobius.txf":"txf","application/vnd.mophun.application":"mpn","application/vnd.mophun.certificate":"mpc","application/vnd.mozilla.xul+xml":"xul","application/vnd.ms-artgalry":"cil","application/vnd.ms-cab-compressed":"cab","application/vnd.ms-excel":"xls","application/vnd.ms-excel.addin.macroenabled.12":"xlam","application/vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","application/vnd.ms-excel.sheet.macroenabled.12":"xlsm","application/vnd.ms-excel.template.macroenabled.12":"xltm","application/vnd.ms-fontobject":"eot","application/vnd.ms-htmlhelp":"chm","application/vnd.ms-ims":"ims","application/vnd.ms-lrm":"lrm","application/vnd.ms-officetheme":"thmx","application/vnd.ms-outlook":"msg","application/vnd.ms-pki.seccat":"cat","application/vnd.ms-pki.stl":"stl","application/vnd.ms-powerpoint":"ppt","application/vnd.ms-powerpoint.addin.macroenabled.12":"ppam","application/vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","application/vnd.ms-powerpoint.slide.macroenabled.12":"sldm","application/vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","application/vnd.ms-powerpoint.template.macroenabled.12":"potm","application/vnd.ms-project":"mpp","application/vnd.ms-word.document.macroenabled.12":"docm","application/vnd.ms-word.template.macroenabled.12":"dotm","application/vnd.ms-works":"wps","application/vnd.ms-wpl":"wpl","application/vnd.ms-xpsdocument":"xps","application/vnd.mseq":"mseq","application/vnd.musician":"mus","application/vnd.muvee.style":"msty","application/vnd.mynfc":"taglet","application/vnd.neurolanguage.nlu":"nlu","application/vnd.nitf":"ntf","application/vnd.noblenet-directory":"nnd","application/vnd.noblenet-sealer":"nns","application/vnd.noblenet-web":"nnw","application/vnd.nokia.n-gage.ac+xml":"ac","application/vnd.nokia.n-gage.data":"ngdat","application/vnd.nokia.n-gage.symbian.install":"n-gage","application/vnd.nokia.radio-preset":"rpst","application/vnd.nokia.radio-presets":"rpss","application/vnd.novadigm.edm":"edm","application/vnd.novadigm.edx":"edx","application/vnd.novadigm.ext":"ext","application/vnd.oasis.opendocument.chart":"odc","application/vnd.oasis.opendocument.chart-template":"otc","application/vnd.oasis.opendocument.database":"odb","application/vnd.oasis.opendocument.formula":"odf","application/vnd.oasis.opendocument.formula-template":"odft","application/vnd.oasis.opendocument.graphics":"odg","application/vnd.oasis.opendocument.graphics-template":"otg","application/vnd.oasis.opendocument.image":"odi","application/vnd.oasis.opendocument.image-template":"oti","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.presentation-template":"otp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.spreadsheet-template":"ots","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.text-master":"odm","application/vnd.oasis.opendocument.text-template":"ott","application/vnd.oasis.opendocument.text-web":"oth","application/vnd.olpc-sugar":"xo","application/vnd.oma.dd2+xml":"dd2","application/vnd.openblox.game+xml":"obgx","application/vnd.openofficeorg.extension":"oxt","application/vnd.openstreetmap.data+xml":"osm","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slide":"sldx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.openxmlformats-officedocument.presentationml.template":"potx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","application/vnd.osgeo.mapguide.package":"mgp","application/vnd.osgi.dp":"dp","application/vnd.osgi.subsystem":"esa","application/vnd.palm":"pdb","application/vnd.pawaafile":"paw","application/vnd.pg.format":"str","application/vnd.pg.osasli":"ei6","application/vnd.picsel":"efif","application/vnd.pmi.widget":"wg","application/vnd.pocketlearn":"plf","application/vnd.powerbuilder6":"pbd","application/vnd.previewsystems.box":"box","application/vnd.proteus.magazine":"mgz","application/vnd.publishare-delta-tree":"qps","application/vnd.pvi.ptid1":"ptid","application/vnd.quark.quarkxpress":"qxd","application/vnd.rar":"rar","application/vnd.realvnc.bed":"bed","application/vnd.recordare.musicxml":"mxl","application/vnd.recordare.musicxml+xml":"musicxml","application/vnd.rig.cryptonote":"cryptonote","application/vnd.rim.cod":"cod","application/vnd.rn-realmedia":"rm","application/vnd.rn-realmedia-vbr":"rmvb","application/vnd.route66.link66+xml":"link66","application/vnd.sailingtracker.track":"st","application/vnd.seemail":"see","application/vnd.sema":"sema","application/vnd.semd":"semd","application/vnd.semf":"semf","application/vnd.shana.informed.formdata":"ifm","application/vnd.shana.informed.formtemplate":"itp","application/vnd.shana.informed.interchange":"iif","application/vnd.shana.informed.package":"ipk","application/vnd.simtech-mindmapper":"twd","application/vnd.smaf":"mmf","application/vnd.smart.teacher":"teacher","application/vnd.software602.filler.form+xml":"fo","application/vnd.solent.sdkm+xml":"sdkm","application/vnd.spotfire.dxp":"dxp","application/vnd.spotfire.sfs":"sfs","application/vnd.stardivision.calc":"sdc","application/vnd.stardivision.draw":"sda","application/vnd.stardivision.impress":"sdd","application/vnd.stardivision.math":"smf","application/vnd.stardivision.writer":"sdw","application/vnd.stardivision.writer-global":"sgl","application/vnd.stepmania.package":"smzip","application/vnd.stepmania.stepchart":"sm","application/vnd.sun.wadl+xml":"wadl","application/vnd.sun.xml.calc":"sxc","application/vnd.sun.xml.calc.template":"stc","application/vnd.sun.xml.draw":"sxd","application/vnd.sun.xml.draw.template":"std","application/vnd.sun.xml.impress":"sxi","application/vnd.sun.xml.impress.template":"sti","application/vnd.sun.xml.math":"sxm","application/vnd.sun.xml.writer":"sxw","application/vnd.sun.xml.writer.global":"sxg","application/vnd.sun.xml.writer.template":"stw","application/vnd.sus-calendar":"sus","application/vnd.svd":"svd","application/vnd.symbian.install":"sis","application/vnd.syncml+xml":"xsm","application/vnd.syncml.dm+wbxml":"bdm","application/vnd.syncml.dm+xml":"xdm","application/vnd.syncml.dmddf+xml":"ddf","application/vnd.tao.intent-module-archive":"tao","application/vnd.tcpdump.pcap":"pcap","application/vnd.tmobile-livetv":"tmo","application/vnd.trid.tpt":"tpt","application/vnd.triscape.mxs":"mxs","application/vnd.trueapp":"tra","application/vnd.ufdl":"ufd","application/vnd.uiq.theme":"utz","application/vnd.umajin":"umj","application/vnd.unity":"unityweb","application/vnd.uoml+xml":"uoml","application/vnd.vcx":"vcx","application/vnd.visio":"vsd","application/vnd.visionary":"vis","application/vnd.vsf":"vsf","application/vnd.wap.wbxml":"wbxml","application/vnd.wap.wmlc":"wmlc","application/vnd.wap.wmlscriptc":"wmlsc","application/vnd.webturbo":"wtb","application/vnd.wolfram.player":"nbp","application/vnd.wordperfect":"wpd","application/vnd.wqd":"wqd","application/vnd.wt.stf":"stf","application/vnd.xara":"xar","application/vnd.xfdl":"xfdl","application/vnd.yamaha.hv-dic":"hvd","application/vnd.yamaha.hv-script":"hvs","application/vnd.yamaha.hv-voice":"hvp","application/vnd.yamaha.openscoreformat":"osf","application/vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","application/vnd.yamaha.smaf-audio":"saf","application/vnd.yamaha.smaf-phrase":"spf","application/vnd.yellowriver-custom-menu":"cmp","application/vnd.zul":"zir","application/vnd.zzazz.deck+xml":"zaz","application/voicexml+xml":"vxml","application/wasm":"wasm","application/watcherinfo+xml":"wif","application/widget":"wgt","application/winhlp":"hlp","application/wsdl+xml":"wsdl","application/wspolicy+xml":"wspolicy","application/x-7z-compressed":"7z","application/x-abiword":"abw","application/x-ace-compressed":"ace","application/x-apple-diskimage":"dmg","application/x-arj":"arj","application/x-authorware-bin":"aab","application/x-authorware-map":"aam","application/x-authorware-seg":"aas","application/x-bcpio":"bcpio","application/x-bdoc":"bdoc","application/x-bittorrent":"torrent","application/x-blorb":"blb","application/x-bzip":"bz","application/x-bzip2":"bz2","application/x-cbr":"cbr","application/x-cdlink":"vcd","application/x-cfs-compressed":"cfs","application/x-chat":"chat","application/x-chess-pgn":"pgn","application/x-chrome-extension":"crx","application/x-cocoa":"cco","application/x-conference":"nsc","application/x-cpio":"cpio","application/x-csh":"csh","application/x-debian-package":"deb","application/x-dgc-compressed":"dgc","application/x-director":"dir","application/x-doom":"wad","application/x-dtbncx+xml":"ncx","application/x-dtbook+xml":"dtb","application/x-dtbresource+xml":"res","application/x-dvi":"dvi","application/x-envoy":"evy","application/x-eva":"eva","application/x-font-bdf":"bdf","application/x-font-ghostscript":"gsf","application/x-font-linux-psf":"psf","application/x-font-pcf":"pcf","application/x-font-snf":"snf","application/x-font-type1":"pfa","application/x-freearc":"arc","application/x-futuresplash":"spl","application/x-gca-compressed":"gca","application/x-glulx":"ulx","application/x-gnumeric":"gnumeric","application/x-gramps-xml":"gramps","application/x-gtar":"gtar","application/x-hdf":"hdf","application/x-httpd-php":"php","application/x-install-instructions":"install","application/x-iso9660-image":"iso","application/x-iwork-keynote-sffkey":"key","application/x-iwork-numbers-sffnumbers":"numbers","application/x-iwork-pages-sffpages":"pages","application/x-java-archive-diff":"jardiff","application/x-java-jnlp-file":"jnlp","application/x-keepass2":"kdbx","application/x-latex":"latex","application/x-lua-bytecode":"luac","application/x-lzh-compressed":"lzh","application/x-makeself":"run","application/x-mie":"mie","application/x-mobipocket-ebook":"prc","application/x-ms-application":"application","application/x-ms-shortcut":"lnk","application/x-ms-wmd":"wmd","application/x-ms-wmz":"wmz","application/x-ms-xbap":"xbap","application/x-msaccess":"mdb","application/x-msbinder":"obd","application/x-mscardfile":"crd","application/x-msclip":"clp","application/x-msdos-program":"exe","application/x-msdownload":"exe","application/x-msmediaview":"mvb","application/x-msmetafile":"wmf","application/x-msmoney":"mny","application/x-mspublisher":"pub","application/x-msschedule":"scd","application/x-msterminal":"trm","application/x-mswrite":"wri","application/x-netcdf":"nc","application/x-ns-proxy-autoconfig":"pac","application/x-nzb":"nzb","application/x-perl":"pl","application/x-pilot":"prc","application/x-pkcs12":"p12","application/x-pkcs7-certificates":"p7b","application/x-pkcs7-certreqresp":"p7r","application/x-rar-compressed":"rar","application/x-redhat-package-manager":"rpm","application/x-research-info-systems":"ris","application/x-sea":"sea","application/x-sh":"sh","application/x-shar":"shar","application/x-shockwave-flash":"swf","application/x-silverlight-app":"xap","application/x-sql":"sql","application/x-stuffit":"sit","application/x-stuffitx":"sitx","application/x-subrip":"srt","application/x-sv4cpio":"sv4cpio","application/x-sv4crc":"sv4crc","application/x-t3vm-image":"t3","application/x-tads":"gam","application/x-tar":"tar","application/x-tcl":"tcl","application/x-tex":"tex","application/x-tex-tfm":"tfm","application/x-texinfo":"texinfo","application/x-tgif":"obj","application/x-ustar":"ustar","application/x-virtualbox-hdd":"hdd","application/x-virtualbox-ova":"ova","application/x-virtualbox-ovf":"ovf","application/x-virtualbox-vbox":"vbox","application/x-virtualbox-vbox-extpack":"vbox-extpack","application/x-virtualbox-vdi":"vdi","application/x-virtualbox-vhd":"vhd","application/x-virtualbox-vmdk":"vmdk","application/x-wais-source":"src","application/x-web-app-manifest+json":"webapp","application/x-x509-ca-cert":"der","application/x-xfig":"fig","application/x-xliff+xml":"xlf","application/x-xpinstall":"xpi","application/x-xz":"xz","application/x-zmachine":"z1","application/xaml+xml":"xaml","application/xcap-att+xml":"xav","application/xcap-caps+xml":"xca","application/xcap-diff+xml":"xdf","application/xcap-el+xml":"xel","application/xcap-ns+xml":"xns","application/xenc+xml":"xenc","application/xhtml+xml":"xhtml","application/xliff+xml":"xlf","application/xml":"xml","application/xml-dtd":"dtd","application/xop+xml":"xop","application/xproc+xml":"xpl","application/xslt+xml":"xsl","application/xspf+xml":"xspf","application/xv+xml":"mxml","application/yang":"yang","application/yin+xml":"yin","application/zip":"zip","audio/3gpp":"3gpp","audio/adpcm":"adp","audio/amr":"amr","audio/basic":"au","audio/midi":"mid","audio/mobile-xmf":"mxmf","audio/mp3":"mp3","audio/mp4":"m4a","audio/mpeg":"mpga","audio/ogg":"oga","audio/s3m":"s3m","audio/silk":"sil","audio/vnd.dece.audio":"uva","audio/vnd.digital-winds":"eol","audio/vnd.dra":"dra","audio/vnd.dts":"dts","audio/vnd.dts.hd":"dtshd","audio/vnd.lucent.voice":"lvp","audio/vnd.ms-playready.media.pya":"pya","audio/vnd.nuera.ecelp4800":"ecelp4800","audio/vnd.nuera.ecelp7470":"ecelp7470","audio/vnd.nuera.ecelp9600":"ecelp9600","audio/vnd.rip":"rip","audio/wav":"wav","audio/wave":"wav","audio/webm":"weba","audio/x-aac":"aac","audio/x-aiff":"aif","audio/x-caf":"caf","audio/x-flac":"flac","audio/x-m4a":"m4a","audio/x-matroska":"mka","audio/x-mpegurl":"m3u","audio/x-ms-wax":"wax","audio/x-ms-wma":"wma","audio/x-pn-realaudio":"ram","audio/x-pn-realaudio-plugin":"rmp","audio/x-realaudio":"ra","audio/x-wav":"wav","audio/xm":"xm","chemical/x-cdx":"cdx","chemical/x-cif":"cif","chemical/x-cmdf":"cmdf","chemical/x-cml":"cml","chemical/x-csml":"csml","chemical/x-xyz":"xyz","font/collection":"ttc","font/otf":"otf","font/ttf":"ttf","font/woff":"woff","font/woff2":"woff2","image/aces":"exr","image/apng":"apng","image/avci":"avci","image/avcs":"avcs","image/avif":"avif","image/bmp":"bmp","image/cgm":"cgm","image/dicom-rle":"drle","image/emf":"emf","image/fits":"fits","image/g3fax":"g3","image/gif":"gif","image/heic":"heic","image/heic-sequence":"heics","image/heif":"heif","image/heif-sequence":"heifs","image/hej2k":"hej2","image/hsj2":"hsj2","image/ief":"ief","image/jls":"jls","image/jp2":"jp2","image/jpeg":"jpeg","image/jph":"jph","image/jphc":"jhc","image/jpm":"jpm","image/jpx":"jpx","image/jxr":"jxr","image/jxra":"jxra","image/jxrs":"jxrs","image/jxs":"jxs","image/jxsc":"jxsc","image/jxsi":"jxsi","image/jxss":"jxss","image/ktx":"ktx","image/ktx2":"ktx2","image/png":"png","image/prs.btif":"btif","image/prs.pti":"pti","image/sgi":"sgi","image/svg+xml":"svg","image/t38":"t38","image/tiff":"tif","image/tiff-fx":"tfx","image/vnd.adobe.photoshop":"psd","image/vnd.airzip.accelerator.azv":"azv","image/vnd.dece.graphic":"uvi","image/vnd.djvu":"djvu","image/vnd.dvb.subtitle":"sub","image/vnd.dwg":"dwg","image/vnd.dxf":"dxf","image/vnd.fastbidsheet":"fbs","image/vnd.fpx":"fpx","image/vnd.fst":"fst","image/vnd.fujixerox.edmics-mmr":"mmr","image/vnd.fujixerox.edmics-rlc":"rlc","image/vnd.microsoft.icon":"ico","image/vnd.ms-dds":"dds","image/vnd.ms-modi":"mdi","image/vnd.ms-photo":"wdp","image/vnd.net-fpx":"npx","image/vnd.pco.b16":"b16","image/vnd.tencent.tap":"tap","image/vnd.valve.source.texture":"vtf","image/vnd.wap.wbmp":"wbmp","image/vnd.xiff":"xif","image/vnd.zbrush.pcx":"pcx","image/webp":"webp","image/wmf":"wmf","image/x-3ds":"3ds","image/x-cmu-raster":"ras","image/x-cmx":"cmx","image/x-freehand":"fh","image/x-icon":"ico","image/x-jng":"jng","image/x-mrsid-image":"sid","image/x-ms-bmp":"bmp","image/x-pcx":"pcx","image/x-pict":"pic","image/x-portable-anymap":"pnm","image/x-portable-bitmap":"pbm","image/x-portable-graymap":"pgm","image/x-portable-pixmap":"ppm","image/x-rgb":"rgb","image/x-tga":"tga","image/x-xbitmap":"xbm","image/x-xpixmap":"xpm","image/x-xwindowdump":"xwd","message/disposition-notification":"disposition-notification","message/global":"u8msg","message/global-delivery-status":"u8dsn","message/global-disposition-notification":"u8mdn","message/global-headers":"u8hdr","message/rfc822":"eml","message/vnd.wfa.wsc":"wsc","model/3mf":"3mf","model/gltf+json":"gltf","model/gltf-binary":"glb","model/iges":"igs","model/mesh":"msh","model/mtl":"mtl","model/obj":"obj","model/step+xml":"stpx","model/step+zip":"stpz","model/step-xml+zip":"stpxz","model/stl":"stl","model/vnd.collada+xml":"dae","model/vnd.dwf":"dwf","model/vnd.gdl":"gdl","model/vnd.gtw":"gtw","model/vnd.mts":"mts","model/vnd.opengex":"ogex","model/vnd.parasolid.transmit.binary":"x_b","model/vnd.parasolid.transmit.text":"x_t","model/vnd.sap.vds":"vds","model/vnd.usdz+zip":"usdz","model/vnd.valve.source.compiled-map":"bsp","model/vnd.vtu":"vtu","model/vrml":"wrl","model/x3d+binary":"x3db","model/x3d+fastinfoset":"x3db","model/x3d+vrml":"x3dv","model/x3d+xml":"x3d","model/x3d-vrml":"x3dv","text/cache-manifest":"appcache","text/calendar":"ics","text/coffeescript":"coffee","text/css":"css","text/csv":"csv","text/html":"html","text/jade":"jade","text/jsx":"jsx","text/less":"less","text/markdown":"markdown","text/mathml":"mml","text/mdx":"mdx","text/n3":"n3","text/plain":"txt","text/prs.lines.tag":"dsc","text/richtext":"rtx","text/rtf":"rtf","text/sgml":"sgml","text/shex":"shex","text/slim":"slim","text/spdx":"spdx","text/stylus":"stylus","text/tab-separated-values":"tsv","text/troff":"t","text/turtle":"ttl","text/uri-list":"uri","text/vcard":"vcard","text/vnd.curl":"curl","text/vnd.curl.dcurl":"dcurl","text/vnd.curl.mcurl":"mcurl","text/vnd.curl.scurl":"scurl","text/vnd.dvb.subtitle":"sub","text/vnd.familysearch.gedcom":"ged","text/vnd.fly":"fly","text/vnd.fmi.flexstor":"flx","text/vnd.graphviz":"gv","text/vnd.in3d.3dml":"3dml","text/vnd.in3d.spot":"spot","text/vnd.sun.j2me.app-descriptor":"jad","text/vnd.wap.wml":"wml","text/vnd.wap.wmlscript":"wmls","text/vtt":"vtt","text/x-asm":"s","text/x-c":"c","text/x-component":"htc","text/x-fortran":"f","text/x-handlebars-template":"hbs","text/x-java-source":"java","text/x-lua":"lua","text/x-markdown":"mkd","text/x-nfo":"nfo","text/x-opml":"opml","text/x-org":"org","text/x-pascal":"p","text/x-processing":"pde","text/x-sass":"sass","text/x-scss":"scss","text/x-setext":"etx","text/x-sfv":"sfv","text/x-suse-ymp":"ymp","text/x-uuencode":"uu","text/x-vcalendar":"vcs","text/x-vcard":"vcf","text/xml":"xml","text/yaml":"yaml","video/3gpp":"3gp","video/3gpp2":"3g2","video/h261":"h261","video/h263":"h263","video/h264":"h264","video/iso.segment":"m4s","video/jpeg":"jpgv","video/jpm":"jpm","video/mj2":"mj2","video/mp2t":"ts","video/mp4":"mp4","video/mpeg":"mpeg","video/ogg":"ogv","video/quicktime":"qt","video/vnd.dece.hd":"uvh","video/vnd.dece.mobile":"uvm","video/vnd.dece.pd":"uvp","video/vnd.dece.sd":"uvs","video/vnd.dece.video":"uvv","video/vnd.dvb.file":"dvb","video/vnd.fvt":"fvt","video/vnd.mpegurl":"mxu","video/vnd.ms-playready.media.pyv":"pyv","video/vnd.uvvu.mp4":"uvu","video/vnd.vivo":"viv","video/webm":"webm","video/x-f4v":"f4v","video/x-fli":"fli","video/x-flv":"flv","video/x-m4v":"m4v","video/x-matroska":"mkv","video/x-mng":"mng","video/x-ms-asf":"asf","video/x-ms-vob":"vob","video/x-ms-wm":"wm","video/x-ms-wmv":"wmv","video/x-ms-wmx":"wmx","video/x-ms-wvx":"wvx","video/x-msvideo":"avi","video/x-sgi-movie":"movie","video/x-smv":"smv","x-conference/x-cooltalk":"ice"},Uo=/^\s*([^;\s]*)(?:;|\s|$)/;function ma(t){if(!t||typeof t!="string")return"";let e=Uo.exec(t);return e&&jo[e[1].toLowerCase()]||""}var xt=t=>(0,ga.default)(t,{replacement:f.replacementChar||"_"}).replace(/[\[\]\#\^]/g,""),Ot=(t,e)=>da.readdirSync(t).filter(n=>{let r=n.split(".").slice(0,-1).join("."),s=gt(e),c=r.match(new RegExp(`${s}\\.\\d+`));return r===e||c}).length,xa=(t,e)=>{let a=f.useUniqueUnknownFileNames?"unknown_filename"+(Math.random().toString(16)+"0000000").slice(2,10):"unknown_filename",n=qo(e),r=a;e["resource-attributes"]&&e["resource-attributes"]["file-name"]&&(r=e["resource-attributes"]["file-name"].substr(0,50).split(".")[0]),r=r.replace(/[/\\?%*:|"<>\[\]\+]/g,"-"),f.sanitizeResourceNameSpaces&&(r=r.replace(/ /g,f.replacementChar));let s=Ot(t,r);return{fileName:`${s>0?`${r}.${s}`:r}.${n}`,extension:n,index:s}},de=t=>xt(t.title?`${t.title.toString()}`:"Untitled"),va=(t,e,a="md")=>`${ue(t,e)}.${a}`,zo=t=>{if(!(t["resource-attributes"]&&t["resource-attributes"]["file-name"]))return;let e=t["resource-attributes"]["file-name"].split(".");return e.length>1?e[e.length-1]:void 0},Ho=t=>{let e=t.mime;if(e)return ma(e)||void 0},qo=t=>{let e="dat";return zo(t)||Ho(t)||e},Yo=(t,e)=>(0,ua.moment)(t.created).format("YYYYMMDDHHmm"),Mt=()=>ea(5),ue=(t,e)=>{let a;if(f.isZettelkastenNeeded||f.useZettelIdAsFilename){let n=Yo(e,t),r=Ot(t,n),s=" ";a=r!==0?`${n}.${r}`:n,f.useZettelIdAsFilename||(a+=de(e)!=="Untitled"?`${s}${de(e)}`:"")}else{let n=de(e),r=Ot(t,n);a=r===0?n:`${n}.${r}`}return a},fe=t=>fa.basename(t,".enex");var ha=t=>t==="Table of Contents";var Go=t=>t.replace(/\[|\]/g,""),Vo=t=>t.replace(/\\/g,""),ba={filter:z("A"),replacement:(t,e)=>{let a=A(e);if(!a.href)return"";let n=jt(f).turndown(Go(e.innerHTML));n=Vo(n);let r="",s=n.match(/^(#{1,6} )(.*)/);s&&(r=s[1],n=s[2]);let c=a.href.value,d=a.type?a.type.value:void 0,u=f.urlEncodeFileNamesAndLinks?encodeURI(c):c;if(d==="file")return`![[${u}]]`;if(c.match(/^(https?:|www\.|file:|ftp:|mailto:)/))return r+Xo(n,c);if(c.startsWith("evernote://")){let x=xt(n),T=I.getInstance(),h=Mt();return ha(T.getCurrentNoteName())?T.addItemToTOCMap({url:c,title:x,uniqueEnd:h}):T.addItemToMap({url:c,title:x,uniqueEnd:h}),r+`[[${c}]]`}return r+`[[${u}${n===u?"":`|${n}`}]]`}},Wo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ya=/&(?:amp|lt|gt|quot|#39);/g,Ko=RegExp(ya.source);function Ta(t){return t&&Ko.test(t)?t.replace(ya,e=>Wo[e]):t}var Xo=(t,e)=>!t||Ta(t)===Ta(e)?f.generateNakedUrls?e:`<${e}>`:`[${t}](${e})`;var _={bold:"**",italic:"_",highlight:"==",strikethrough:"~~"};var Qo="-evernote-highlight:true;",Zo="--en-highlight",Jo="bold",tn="italic",Na={filter:z("SPAN"),replacement:(t,e)=>{let a=A(e);if(a.style&&t.trim()!==""){let n=a.style.value;if(t!=="<YARLE_NEWLINE_PLACEHOLDER>"){let r=n.includes(Jo),s=n.includes(tn);if(r&&!s)return`${_.bold}${t}${_.bold}`;if(!r&&s)return`${_.italic}${t}${_.italic}`;if(r&&s)return`${_.italic}${_.bold}${t}${_.bold}${_.italic}`}return n.includes(Qo)||n.includes(Zo)?`${_.highlight}${t}${_.highlight}`:t}return t}};var Ea={filter:["del","s","strike"],replacement:t=>`${_.strikethrough}${t}${_.strikethrough}`};var ka={filter:z("EN-TODO"),replacement:(t,e)=>{var r,s;let a=A(e);return`${((s=(r=e.parentElement)==null?void 0:r.nodeName)==null?void 0:s.toUpperCase())==="LI"?"":"- "}${a.checked&&a.checked.value==="true"?"[x]":"[ ]"} ${t}`}};var wa={filter:z("BR"),replacement:(t,e)=>{let a=A(e);return"<YARLE_NEWLINE_PLACEHOLDER>"}};var en=t=>{let e=A(t),a="--en-task-group:true";return e.style&&e.style.value.indexOf(a)>=0},an=t=>{let e=A(t),a="--en-id:";return e.style.value.split(a)[1].split(";")[0]},Aa={filter:z("DIV"),replacement:(t,e)=>{let a=A(e);return en(e)?`<YARLE-EN-V10-TASK>${an(e)}</YARLE-EN-V10-TASK>`:f.monospaceIsCodeBlock?Je(t,e):me(t,e)}};var Ca={filter:["i"],replacement:t=>t.trim()!==""?`${_.italic}${t}${_.italic}`:t};var Ut="- [ ]",zt="- [x]";var Oa="	",Ia={filter:"li",replacement:(t,e,a)=>{let n=h=>{let y=A(h),b="--en-checked:true;";return y.style&&y.style.value.indexOf(b)>=0},r=h=>{let y=A(h),b="--en-checked:false;";return y.style&&y.style.value.indexOf(b)>=0},s=t.match(/^\n*/)[0].length||0,c=Oa.repeat(s),d=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
${Oa}`),u=s>0?c:n(e)?`${zt} `:r(e)?`${Ut} `:"* ",x=e.parentNode;if(x.nodeName==="OL"){let h=x.getAttribute("start"),y=Array.prototype.indexOf.call(x.children,e);u=`${h?Number(h)+y:y+1}. `}let T;return T=u+d+(e.nextSibling&&!/\n$/.test(d)?`
`:""),T}};var jt=t=>{let e=new window.TurndownService({br:"",...t.turndownOptions,blankReplacement:(a,n)=>n.isBlock?`

`:"",keepReplacement:(a,n)=>n.isBlock?`
${n.outerHTML}
`:n.outerHTML,defaultReplacement:(a,n)=>n.isBlock?`
${a}
`:a});return e.use(Xe),e.addRule("span",Na),e.addRule("strikethrough",Ea),e.addRule("evernote task items",ka),e.addRule("wikistyle links",ba),e.addRule("images",ta),e.addRule("list",Ia),e.addRule("italic",Ca),t.keepMDCharactersOfENNotes&&(e.escape=a=>a),e.addRule("divBlock",Aa),t.keepOriginalAmountOfNewlines&&e.addRule("newline",wa),e};var Da=t=>{t.replaceWith(...Array.from(t.children))},Ra=t=>{let e=t.parentElement;e.replaceWith(...Array.from(e.childNodes)),e.append(...Array.from(t.childNodes)),t.appendChild(e)},on=t=>(Array.from(t.querySelectorAll("span>en-todo")).forEach(Ra),Array.from(t.querySelectorAll("a>en-todo")).forEach(Ra),t),nn=t=>{let e=t.replace(/<li>/g,"<li><div>");return e=e.replace(/<\/li>/g,"</div></li>"),e=e.replace(/<li><div>(\s)*<div>/g,"<li><div>"),e=e.replace(/<\/div>(\s)*<\/div><\/li>/g,"</div></li>"),e},rn=t=>{var s;let e=Array.from(t.getElementsByTagName("ul")),a=Array.from(t.getElementsByTagName("ol")),n=e.concat(a);n.forEach(c=>{c.parentElement.tagName==="LI"&&c.parentElement.replaceWith(c),c.previousElementSibling&&c.previousElementSibling.tagName==="LI"&&c.previousElementSibling.appendChild(c)});for(let c of n){let d=c.parentElement;(d==null?void 0:d.tagName)==="DIV"&&((s=d==null?void 0:d.parentElement)==null?void 0:s.tagName)==="UL"&&Da(d),((d==null?void 0:d.tagName)==="UL"||(d==null?void 0:d.tagName)==="OL")&&(d==null?void 0:d.childNodes.length)===1&&Da(d)}let r=Array.from(t.getElementsByTagName("li"));for(let c of r){let d=c.firstElementChild;if(d&&d.tagName==="DIV"){let u=Array.from(d.childNodes);d.replaceWith(...u)}}return t},Sa=(t,{htmlContent:e})=>{let a=e.replace(/<!DOCTYPE en-note [^>]*>/,"<!DOCTYPE html>").replace(/(<a [^>]*)\/>/,"$1></a>").replace(/<div[^\/\<]*\/>/g,""),n=new DOMParser().parseFromString(nn(a),"text/html").getElementsByTagName("en-note").item(0),r=jt(t).turndown(on(rn(n))),s=new RegExp("<YARLE_NEWLINE_PLACEHOLDER>","g");return r=r.replace(s,""),r&&r!=="undefined"?{content:r}:{content:""}};var hi=R(require("crypto")),Rt=R(require("fs")),Vt=R(require("path"));var $a=require("fs"),V=require("obsidian");var La=(t,e)=>({createdAt:ln(t),updatedAt:sn(t),sourceUrl:pn(t),location:cn(t),reminderTime:mn(t),reminderOrder:dn(t),reminderDoneTime:un(t),notebookName:e});var ln=t=>!f.skipCreationTime&&t.created?(0,V.moment)(t.created).format(f.dateFormat):void 0,sn=t=>!f.skipUpdateTime&&t.updated?(0,V.moment)(t.updated).format(f.dateFormat):void 0,pn=t=>!f.skipSourceUrl&&t["note-attributes"]?t["note-attributes"]["source-url"]:void 0;var cn=t=>!f.skipLocation&&t["note-attributes"]&&t["note-attributes"].longitude?`${t["note-attributes"].latitude},${t["note-attributes"].longitude}`:void 0,mn=t=>!f.skipReminderTime&&t["note-attributes"]&&t["note-attributes"]["reminder-time"]?(0,V.moment)(t["note-attributes"]["reminder-time"]).format(f.dateFormat):void 0,dn=t=>!f.skipReminderOrder&&t["note-attributes"]&&t["note-attributes"]["reminder-order"]?t["note-attributes"]["reminder-order"]:void 0,un=t=>!f.skipReminderDoneTime&&t["note-attributes"]&&t["note-attributes"]["reminder-done-time"]?(0,V.moment)(t["note-attributes"]["reminder-done-time"]).format(f.dateFormat):void 0,_a=t=>({tags:fn(t)}),fn=t=>{if(!f.skipTags&&t.tag){let e=Array.isArray(t.tag)?t.tag:[t.tag],a=f.nestedTags;return e.map(r=>{let s=r.toString().replace(/^#/,"");a&&(s=s.replace(new RegExp(gt(a.separatorInEN),"g"),a.replaceSeparatorWith));let c=a&&a.replaceSpaceWith||"-";return s=s.replace(/ /g,c),`${f.useHashTags?"#":""}${s}`}).join(" ")}},ge;try{ge=window.require("btime")}catch(t){}var Ht=(t,e)=>{let a=(0,V.moment)(e.created).valueOf();a>0&&ge&&ge.btime(t,a);let r=(0,V.moment)(e.updated).valueOf()/1e3;(0,$a.utimesSync)(t,r,r)},Pa=t=>t["resource-attributes"]&&t["resource-attributes"].timestamp?(0,V.moment)(t["resource-attributes"].timestamp):(0,V.moment)();var Q=R(require("fs")),P=R(require("path"));var M={},Yt=249,Fa=(t,e)=>ue(t,e).replace(/\s/g,"_"),Ba=(t,e)=>{if(t.length<=11)throw Error("FATAL: note folder directory path exceeds the OS limitation. Please pick a destination closer to the root folder.");return`${ve()}${P.sep}${t}`.length<Yt?t:`${t.slice(0,Yt-11)}_${e}.md`},gn=(t,e,a)=>{let r=I.getInstance().getNoteIdNameMapByNoteTitle(xt(t.title))[0]||{uniqueEnd:Mt()};if(e.length<=11)throw Error("FATAL: note folder directory path exceeds the OS limitation. Please pick a destination closer to the root folder.");return`${a.slice(0,Yt-11)}_${r.uniqueEnd}.md`},xn=(t,e,a)=>{let n=va(t,e,a),r=`${t}${P.sep}${xt(n)}`;return r.length<Yt?r:gn(e,n,r)},Ma=t=>xn(M.mdPath,t,"md");var vn=t=>{Q.default.existsSync(t)&&(Q.default.rmSync?Q.default.rmSync(t,{recursive:!0,force:!0}):Q.default.rmdirSync(t,{recursive:!0})),Q.default.mkdirSync(t)},ja=t=>{let e=`${P.sep}${f.resourcesDir}`;return f.haveGlobalResources?`..${e}`:f.haveEnexLevelResources?`.${e}`:`.${e}${P.sep}${Fa(M.mdPath,t)}.resources`},xe=t=>f.haveGlobalResources?P.resolve(M.resourcePath,"..","..",f.resourcesDir):f.haveEnexLevelResources?M.resourcePath:`${M.resourcePath}${P.sep}${Fa(M.mdPath,t)}.resources`,qt=new Map,Ua=t=>{let e=xe(t);qt.has(e)||qt.set(e,0);let a=qt.get(e);(f.haveEnexLevelResources||f.haveGlobalResources)&&a>=1||(vn(e),qt.set(e,a+1))},za=t=>{let e=t.split(P.sep),a=(e.length>=1?e[e.length-1]:e[0]).split(/.enex$/)[0],n=P.isAbsolute(f.outputDir)?f.outputDir:`${process.cwd()}${P.sep}${f.outputDir}`;M.mdPath=`${n}${P.sep}`,M.resourcePath=`${n}${P.sep}${f.resourcesDir}`,f.skipEnexFileNameFromOutputPath||(M.mdPath=`${M.mdPath}${a}`,M.resourcePath=`${n}${P.sep}${a}${P.sep}${f.resourcesDir}`),Q.default.mkdirSync(M.mdPath,{recursive:!0}),!f.haveEnexLevelResources&&!f.haveGlobalResources&&Q.default.mkdirSync(M.resourcePath,{recursive:!0}),console.log(`path ${M.mdPath} created`)},ve=()=>M.mdPath;var Ha=t=>!!t.resource,qa=t=>t["note-attributes"]&&(t["note-attributes"]["source-application"]==="webclipper.evernote"||t["note-attributes"].source==="web.clip7");var he={};U(he,{CONTENT_PLACEHOLDER:()=>hn,END_BLOCK:()=>bn,START_BLOCK:()=>Tn});var hn="{content}",Tn="{content-block}",bn="{end-content-block}";var Z=({template:t,check:e,startBlockPlaceholder:a,endBlockPlaceholder:n,valuePlaceholder:r,value:s})=>{if(s&&e())return t.replace(new RegExp(`${a}`,"g"),"").replace(new RegExp(`${n}`,"g"),"").replace(new RegExp(`${r}`,"g"),s);let c=`${a}([\\d\\D])(?:.|(\r
|\r|
))*?(?=${n})${n}`;return t.replace(new RegExp(c,"g"),"")};var J=(t,e,a,n)=>({template:t,check:e,startBlockPlaceholder:a.START_BLOCK,endBlockPlaceholder:a.END_BLOCK,valuePlaceholder:a.CONTENT_PLACEHOLDER,value:n});var Ya=(t,e,a)=>{let n=J(e,a,he,t.content);return Z(n)};var It={};U(It,{CONTENT_PLACEHOLDER:()=>yn,END_BLOCK:()=>En,START_BLOCK:()=>Nn});var yn="{tags}",Nn="{tags-block}",En="{end-tags-block}";var Ga=(t,e,a)=>{let n=J(e,a,It,t.tags);return Z(n)};var Te={};U(Te,{CONTENT_PLACEHOLDER:()=>kn,END_BLOCK:()=>An,START_BLOCK:()=>wn});var kn="{title}",wn="{title-block}",An="{end-title-block}";var Va=(t,e,a)=>{let n=J(e,a,Te,t.title);return Z(n)};var at={};U(at,{CONTENT_PLACEHOLDER:()=>Cn,END_BLOCK:()=>In,START_BLOCK:()=>On});var Cn="{created-at}",On="{created-at-block}",In="{end-created-at-block}";var F=(t,e,a)=>t.replace(new RegExp(`${e.CONTENT_PLACEHOLDER}`,"g"),a).replace(new RegExp(`${e.START_BLOCK}`,"g"),"").replace(new RegExp(`${e.END_BLOCK}`,"g"),"");var Wa=(t,e)=>F(e,at,t.createdAt);var it={};U(it,{CONTENT_PLACEHOLDER:()=>Dn,END_BLOCK:()=>Sn,START_BLOCK:()=>Rn});var Dn="{updated-at}",Rn="{updated-at-block}",Sn="{end-updated-at-block}";var Ka=(t,e)=>F(e,it,t.updatedAt);var ot={};U(ot,{CONTENT_PLACEHOLDER:()=>$n,END_BLOCK:()=>_n,START_BLOCK:()=>Ln});var $n="{source-url}",Ln="{source-url-block}",_n="{end-source-url-block}";var Xa=(t,e)=>F(e,ot,t.sourceUrl);var nt={};U(nt,{CONTENT_PLACEHOLDER:()=>Pn,END_BLOCK:()=>Bn,START_BLOCK:()=>Fn});var Pn="{location}",Fn="{location-block}",Bn="{end-location-block}";var Qa=(t,e)=>F(e,nt,t.location);var rt={};U(rt,{CONTENT_PLACEHOLDER:()=>Mn,END_BLOCK:()=>Un,START_BLOCK:()=>jn});var Mn="{notebook}",jn="{notebook-block}",Un="{end-notebook-block}";var Za=(t,e)=>F(e,rt,t.notebookName);var vt={};U(vt,{CONTENT_PLACEHOLDER:()=>zn,END_BLOCK:()=>qn,START_BLOCK:()=>Hn});var zn="{reminder-time}",Hn="{reminder-time-block}",qn="{end-reminder-time-block}";var Ja=(t,e)=>F(e,vt,t.reminderTime);var ht={};U(ht,{CONTENT_PLACEHOLDER:()=>Yn,END_BLOCK:()=>Vn,START_BLOCK:()=>Gn});var Yn="{reminder-order}",Gn="{reminder-order-block}",Vn="{end-reminder-order-block}";var ti=(t,e)=>F(e,ht,t.reminderOrder);var Tt={};U(Tt,{CONTENT_PLACEHOLDER:()=>Wn,END_BLOCK:()=>Xn,START_BLOCK:()=>Kn});var Wn="{reminder-done-time}",Kn="{reminder-done-time-block}",Xn="{end-reminder-done-time-block}";var ei=(t,e)=>F(e,Tt,t.reminderDoneTime);var Dt={};U(Dt,{CONTENT_PLACEHOLDER:()=>Qn,END_BLOCK:()=>Jn,START_BLOCK:()=>Zn});var Qn="{tags-array}",Zn="{tags-array-block}",Jn="{end-tags-array-block}";var ai=(t,e,a)=>{t.tags&&(t.tags=JSON.stringify(t.tags.split(" ")));let n=J(e,a,Dt,t.tags);return Z(n)};var be="{metadata-block}",ye="{end-metadata-block}";var ii=`\r?
?`;var S=(t,e)=>t.replace(new RegExp(`${e.START_BLOCK}(?<=${e.START_BLOCK})(.*)(?=${e.END_BLOCK})${e.END_BLOCK}${ii}`,"g"),"");var oi=t=>S(t,at);var ni=t=>S(t,it);var ri=t=>S(t,ot);var li=t=>S(t,rt);var si=t=>S(t,nt);var Gt={};U(Gt,{CONTENT_PLACEHOLDER:()=>er,END_BLOCK:()=>ir,START_BLOCK:()=>ar});var er="{link-to-original}",ar="{link-to-original-block}",ir="{end-link-to-original-block}";var pi=t=>S(t,Gt);var ci=t=>S(t,vt);var mi=t=>S(t,Tt);var di=t=>S(t,ht);var ui=(t,e)=>{let a=e.currentTemplate;return a=Va(t,a,()=>t.title),a=Ga(t,a,()=>!e.skipTags),a=ai(t,a,()=>!e.skipTags),a=Ya(t,a,()=>t.content),a=pi(a),a=!e.skipCreationTime&&t.createdAt?Wa(t,a):oi(a),a=!e.skipUpdateTime&&t.updatedAt?Ka(t,a):ni(a),a=!e.skipSourceUrl&&t.sourceUrl?Xa(t,a):ri(a),a=!e.skipLocation&&t.location?Qa(t,a):si(a),a=e.isNotebookNameNeeded&&t.notebookName?Za(t,a):li(a),a=!e.skipReminderTime&&t.reminderTime?Ja(t,a):ci(a),a=!e.skipReminderOrder&&t.reminderOrder?ti(t,a):di(a),a=!e.skipReminderDoneTime&&t.reminderDoneTime?ei(t,a):mi(a),a=a.replace(be,"").replace(ye,""),a};var fi=R(require("fs"));var Ee=(t,e,a)=>{try{fi.writeFileSync(t,e),Ht(t,a)}catch(n){throw console.error("Cannot write file ",n),n}};var gi=(t,e)=>{let a=Ma(e);I.getInstance().setCurrentNotePath(a),Ee(a,t,e),console.log(`Note saved to ${a}`)};var Ti=t=>{let e=new RegExp(`\\${Vt.sep}`,"g"),a=ja(t).replace(e,f.pathSeparator);return{absoluteResourceWorkDir:xe(t),relativeResourceWorkDir:a}},bi=t=>{let e={},a=t.content,{absoluteResourceWorkDir:n,relativeResourceWorkDir:r}=Ti(t);if(console.log(`relative resource work dir: ${r}`),console.log(`absolute resource work dir: ${n}`),Ua(t),Array.isArray(t.resource))for(let s of t.resource)e={...e,...vi(n,s)};else e={...e,...vi(n,t.resource)};for(let s of Object.keys(e))a=or(a,e,s,r);return a},or=(t,e,a,n)=>{let r=`${n}${f.pathSeparator}${e[a].fileName.replace(/ /g," ")}`;console.log(`mediaReference src ${r} added`);let s,c=`<en-media ([^>]*)hash="${a}".([^>]*)>`,d=new RegExp(c,"g"),u=t.match(d),x=u&&u.length>0&&u[0].split("type=");if(x&&x.length>1&&x[1].startsWith('"image')){let T=u[0].match(/width="(\w+)"/),h=T?` width="${T[1]}"`:"",y=u[0].match(/height="(\w+)"/),b=y?` height="${y[1]}"`:"";s=t.replace(d,`<img src="${r}"${h}${b} alt="${e[a].fileName}">`)}else s=t.replace(d,`<a href="${r}" type="file">${e[a].fileName}</a>`);return s},vi=(t,e)=>{let a={},n=e.data.$text;if(e.mime==="application/octet-stream")return a;let r=Pa(e),c=xa(t,e).fileName,d=`${t}${Vt.sep}${c}`;console.log(e),console.log(n);let u=Buffer.from(n,"base64");Rt.default.writeFileSync(d,u);let x=r.valueOf()/1e3;if(Rt.default.utimesSync(d,x,x),e.recognition&&c){let T=e.recognition.match(/[a-f0-9]{32}/);console.log(`resource ${c} addid in hash ${T}`),a[T]={fileName:c,alreadyUsed:!1}}else{let T=hi.default.createHash("md5");T.update(u);let h=T.digest("hex");a[h]={fileName:c,alreadyUsed:!1}}return a},yi=(t,e)=>{if(e.indexOf('src="data:')<0)return e;let{absoluteResourceWorkDir:a,relativeResourceWorkDir:n}=Ti(t);return Rt.default.mkdirSync(a,{recursive:!0}),e.replace(/src="data:([^;,]*)(;base64)?,([^"]*)"/g,(r,s,c,d)=>{let u=nr(s,c===";base64",d,a,t);return`src="${`${n}${f.pathSeparator}${u}`}"`})},nr=(t,e,a,n,r)=>{let s="embedded",c=rr(t)||".dat",d=Ot(n,s),u=d<1?`${s}.${c}`:`${s}.${d}.${c}`,x=`${n}${Vt.sep}${u}`;return e||(a=decodeURIComponent(a)),Rt.default.writeFileSync(x,a,e?"base64":void 0),Ht(x,r),console.log(`data url resource ${u} added`),u},rr=t=>t.split("/").pop().split("+")[0];var Ni=(t,e)=>{let a=new Date;I.getInstance().setCurrentNoteName(t.title),Array.isArray(t.content)&&(t.content=t.content.join(""));let r={title:t.title,content:t.content,htmlContent:t.content,originalContent:t.content};console.log(`Converting for note "${r.title}" started at ${a}...`);try{Ha(t)&&(r.htmlContent=bi(t)),r.htmlContent=yi(t,r.htmlContent),r={...r,...Sa(f,r)},r={...r,...La(t,e)},r={...r,..._a(t)};let s=ui(r,f);gi(s,t)}catch(s){throw console.error(`Failed to convert note: ${r.title}`,s),s}finally{let s=new Date,c=(s.getTime()-a.getTime())/1e3;console.log(`Conversion for note "${r.title}" finished at ${s}. Took ${c} seconds`)}};var wi=require("obsidian");var Ei=t=>t.taskstatus==="open"?Ut:zt;var lr="\u{1F53C}",sr="\u{1F53D}",pr="\u{1F4C5}",cr="\u23F3",Ai=(t,e)=>{let a=Ei(t),n=t.title?` ${t.title}`:"",r=f.obsidianTaskTag!==""?` ${f.obsidianTaskTag}`:"",s=t.duedate&&!isNaN(t.duedate.getTime())?` ${pr} ${ki(t.duedate)}`:"",c=t.reminderdate?` ${cr} ${ki(t.reminderdate)}`:"",d=t.taskflag?` ${lr}`:` ${sr}`;return`${a}${r}${n}${s}${c}${d}`},ki=t=>(0,wi.moment)(t).format("YYYY-MM-DD").toString();var bt=R(require("fs")),Kt=R(require("path"));var Wt=R(require("fs")),lt=R(require("path")),ke=(t,e,a)=>{let n=Wt.readdirSync(t);return e=e||[],n.forEach(r=>{Wt.statSync(`${t}${lt.sep}${r}`).isDirectory()?e=ke(`${t}${lt.sep}${r}`,e,a):(a&&lt.extname(r)==`.${a}`||!a)&&e.push(lt.join(t,"/",r))}),e};var Ci=(t,e)=>{let n=I.getInstance().getAllNoteIdNameMap(),r=Object.entries(n);if(r.length===0)return;console.log("About to update links...");let s=[];for(let c of e)ke(c,s,void 0);for(let c of e){console.log(`Notebook: ${c}`);let u=bt.readdirSync(c).filter(x=>Kt.extname(x).toLowerCase()===".md");console.log(`${u.length} files to check for links`);for(let x of u){let T=Kt.join(c,x),h=bt.readFileSync(T,"utf8"),y=h;for(let[b,g]of r){let C=g.uniqueEnd,N=g.title;s.find(te=>te.includes(C))&&(N=Ba(N,C));let v=g.notebookName,B=t.urlEncodeFileNamesAndLinks?encodeURI(N):N,w=B;v&&!c.endsWith(v)&&(w=`${v}/${B}`);let H=new RegExp(gt(b),"g");y=y.replace(H,w)}h!==y&&(console.log(`File written: ${T}`),bt.writeFileSync(T,y))}}console.log("Link update complete.")};var Oi=t=>st(at,t);var Ii=t=>st(nt,t),Di=t=>st(rt,t);var Ri=t=>st(ot,t),Si=t=>st(It,t)||st(Dt,t);var $i=t=>st(it,t),st=(t,e)=>e.includes(t.START_BLOCK)&&e.includes(t.CONTENT_PLACEHOLDER)&&e.includes(t.END_BLOCK);var mr=`{tags-array-block}---
tags: {tags-array}
---
{end-tags-array-block}`,dr=`{title-block}# {title}

{end-title-block}`,ur=`{content-block}{content}{end-content-block}
`,Li=mr+dr+ur;var Xt={enexSources:["notebook.enex"],outputDir:"./mdNotes",isMetadataNeeded:!1,isNotebookNameNeeded:!1,isZettelkastenNeeded:!1,useZettelIdAsFilename:!1,plainTextNotesOnly:!1,skipWebClips:!1,useHashTags:!0,nestedTags:{separatorInEN:"_",replaceSeparatorWith:"/",replaceSpaceWith:"-"},obsidianTaskTag:"",urlEncodeFileNamesAndLinks:!1,sanitizeResourceNameSpaces:!1,replacementChar:"_",pathSeparator:"/",resourcesDir:"_resources",turndownOptions:{headingStyle:"atx"}},f={...Xt};function fr(t){return t==null?t:JSON.parse(JSON.stringify(t))}function Fi(t,...e){for(let a of e)for(let n of Object.keys(a)){let r=a[n],s=t[n];!Array.isArray(r)&&typeof r=="object"&&!Array.isArray(s)&&typeof s=="object"?t[n]=Fi({},s,r):t[n]=fr(r)}return t}var gr=t=>{f=Fi({},Xt,t);let e=f.templateFile?yt.default.readFileSync(f.templateFile,"utf-8"):Li;e=f.currentTemplate?f.currentTemplate:e,f.skipCreationTime=!Oi(e),f.skipLocation=!Ii(e),f.skipSourceUrl=!Ri(e),f.skipTags=!Si(e),f.skipUpdateTime=!$i(e),f.isNotebookNameNeeded=Di(e),f.currentTemplate=e,console.log(`Current config is: ${JSON.stringify(f,null,4)}`),console.log(`Path separator:${_i.sep}`)},xr=async(t,e)=>{console.log(`Getting stream from ${e}`);let a=yt.default.createReadStream(e),n=0,r=0,s=0,c={},d=fe(e);return new Promise((u,x)=>{let T=b=>(console.log(`Could not convert ${e}:
${b.message}`),++r,x());if(!yt.default.existsSync(e))return console.log(JSON.stringify({name:"NoSuchFileOrDirectory",message:"source Enex file does not exists"}));let h=(0,Pi.default)(a),y=null;h.on("tag:note-attributes",b=>{y=b}),h.on("tag:note",b=>{if(t.skipWebClips&&qa(b))++s,console.log(`Notes skipped: ${s}`);else{y&&(b["note-attributes"]=y),++n;try{Ni(b,d),console.log(`Notes processed: ${n}

`)}catch(N){++r;return}}y=null;let C=I.getInstance().getCurrentNotePath();if(C)for(let N of Object.keys(c)){let v=`<YARLE-EN-V10-TASK>${N}</YARLE-EN-V10-TASK>`,B=yt.default.readFileSync(C,"utf8"),w=new Map([...c[N]].sort()),H=B.replace(v,[...w.values()].join(`
`));yt.default.writeFileSync(C,H)}}),h.on("tag:task",b=>{let g=Ye(b);c[g.taskgroupnotelevelid]||(c[g.taskgroupnotelevelid]=new Map),c[g.taskgroupnotelevelid].set(g.sortweight,Ai(g,d))}),h.on("end",()=>{let b=n-r,g=n+s;return console.log("=========================="),console.log(`Conversion finished: ${b} succeeded, ${s} skipped, ${r} failed. Total notes: ${g}`),u({total:n,failed:r,skipped:s})}),h.on("error",T),a.on("error",T)})},Bi=async t=>{gr(t);let e=[],a={total:0,failed:0,skipped:0};for(let n of t.enexSources){za(n),I.getInstance().setCurrentNotebookName(fe(n));let s=await xr(t,n);a.total+=s.total,a.failed+=s.failed,a.skipped+=s.skipped,e.push(ve())}return await Ci(t,e),a};var Qt=class extends mt{init(){this.addFileOrFolderChooserSetting("Evernote (.enex)",["enex"]),this.addOutputLocationSetting("Evernote")}async import(){let{filePaths:e}=this;if(e.length===0){new St.Notice("Please pick at least one file to import.");return}let a=await this.getOutputFolder();if(!a){new St.Notice("Please select a location to export to.");return}let{app:n}=this,r=n.vault.adapter;if(!(r instanceof St.FileSystemAdapter))return;let s={...Xt,enexSources:e,outputDir:Mi.join(r.getBasePath(),a.path)},c=await Bi(s);this.showResult(c)}};var pt=require("obsidian");var Zt=class extends mt{init(){this.addFileOrFolderChooserSetting("HTML (.htm .html)",["htm","html"]),this.addOutputLocationSetting("HTML")}async import(){let{filePaths:e}=this;if(e.length===0){new pt.Notice("Please pick at least one file to import.");return}let a=await this.getOutputFolder();if(!a){new pt.Notice("Please select a location to export to.");return}let n={total:0,skipped:0,failed:0};for(let r of e)try{let s=await this.readPath(r),c=(0,pt.htmlToMarkdown)(s);r=(0,pt.normalizePath)(r),await this.saveAsMarkdownFile(a,Le(r),c),n.total++}catch(s){console.error(s),n.failed++}this.showResult(n)}};var Nt=require("obsidian"),Jt=class extends Nt.Plugin{async onload(){this.importers={evernote:{name:"Evernote (.enex)",importer:Qt},html:{name:"HTML (.html)",importer:Zt}},this.addRibbonIcon("lucide-import","Open Importer",()=>{new $t(this.app,this).open()}),this.addCommand({id:"open-modal",name:"Open importer",callback:()=>{new $t(this.app,this).open()}})}onunload(){}},$t=class extends Nt.Modal{constructor(a,n){super(a);this.plugin=n,this.titleEl.setText("Import data into Obsidian");let r=Object.keys(this.importers);r.length>0&&this.updateContent(r[0])}updateContent(a){let{contentEl:n,importers:r}=this;if(n.empty(),new Nt.Setting(n).setName("File format").setDesc("The format to be imported.").addDropdown(s=>{for(let c in r)r.hasOwnProperty(c)&&s.addOption(c,r[c].name);s.onChange(c=>{r.hasOwnProperty(c)&&this.updateContent(c)}),s.setValue(a)}),a&&r.hasOwnProperty(a)){let s=new r[a].importer(this.app,this);n.createDiv("button-container u-center-text",c=>{c.createEl("button",{cls:"mod-cta",text:"Import"},d=>{d.addEventListener("click",async()=>{this.modalEl.addClass("is-loading");try{await s.import()}finally{this.modalEl.removeClass("is-loading")}})})})}}get importers(){return this.plugin.importers}onClose(){let{contentEl:a}=this;a.empty()}};
/*! Bundled license information:

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
